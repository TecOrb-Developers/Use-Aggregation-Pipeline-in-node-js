"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _column3d=_interopRequireDefault(require("../column3d"));var _bar2d=require("../bar2d");var _dependencyManager=require("@fusioncharts/core/src/dependency-manager");var _index=_interopRequireDefault(require("./index.animation"));(0,_dependencyManager.addDep)({name:"bar3DAnimation",type:"animationRule",extension:_index.default});var Bar3DDataset=function(_Column3DDataset){(0,_inheritsLoose2.default)(Bar3DDataset,_Column3DDataset);function Bar3DDataset(){return _Column3DDataset.apply(this,arguments)||this}var _proto=Bar3DDataset.prototype;_proto.getType=function getType(){return"dataset"};_proto.getName=function getName(){return"bar3D"};_proto._checkPointerOverColumn=function _checkPointerOverColumn(pX,chartX,chartY){var dataset=this,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,plotBorderThickness=chartConfig.plotborderthickness,showPlotBorder=chartConfig.showplotborder,dataStore=dataset.components.data,pointObj=dataStore[pX],pY,dx,dy,hovered,zDepth=5,xPos,yPos,width,height;if(!pointObj){return}pY=pointObj.config.setValue;plotBorderThickness=showPlotBorder?plotBorderThickness:0;if(pY!==null){yPos=pointObj._yPos;height=pointObj._height+zDepth;xPos=pointObj._xPos-zDepth;width=pointObj._width+zDepth;dx=chartX-xPos;dy=chartY-yPos;hovered=dx>=0&&dx<=width+plotBorderThickness&&dy>=0&&dy<=height+plotBorderThickness;if(pY>=0){hovered=hovered?chartX+chartY-(xPos+yPos)-zDepth>0:false;hovered=hovered?chartX+chartY-(xPos+yPos+width+height)+zDepth<0:false}else{hovered=hovered?chartX+chartY-(xPos+yPos)-zDepth>0:false;hovered=hovered?chartX+chartY-(xPos+yPos+width+height)+zDepth<0:false}if(hovered){return{pointIndex:pX,hovered:hovered,pointObj:dataStore[pX]}}}};_proto._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,chart=dataset.getFromEnv("chart"),isBar=chart.isBar,xAxis=dataset.getFromEnv("xAxis"),x,pX;x=xAxis.getValue(isBar?chartY:chartX);pX=Math.round(x);return pX-x>0?dataset._checkPointerOverColumn(pX,chartX,chartY)||dataset._checkPointerOverColumn(pX-1,chartX,chartY):dataset._checkPointerOverColumn(pX+1,chartX,chartY)||dataset._checkPointerOverColumn(pX,chartX,chartY)};_proto.drawLabel=function drawLabel(){var conf=this.config;_bar2d.drawLabel.call(this,conf.scrollMinVal,conf.scrollMaxVal)};return Bar3DDataset}(_column3d.default);var _default=Bar3DDataset;exports.default=_default;