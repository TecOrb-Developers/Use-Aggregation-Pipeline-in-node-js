"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=_default;var _msstackedcolumnDataset=_interopRequireDefault(require("./msstackedcolumn-dataset"));var _lib=require("@fusioncharts/core/src/lib");var removeLineSet=function removeLineSet(component){var lineSet=component.getChildren("dataset_line"),i;for(i=lineSet&&lineSet.length-1;i>-1;i--){lineSet[i].remove()}};function _default(chart){var jsonData=chart.getFromEnv("dataSource"),dataset=jsonData.dataset,lineSets=jsonData.lineset,linesetStartIndex,indices,canvas=chart.getChildren("canvas")[0],vCanvas=canvas.getChildren("vCanvas")[1];if(!dataset&&lineSets.length===0){chart.setChartMessage();return}(0,_msstackedcolumnDataset.default)(chart);linesetStartIndex=chart.config._lastDatasetIndex+1;if(lineSets&&lineSets.length){indices=Array(lineSets.length).fill(linesetStartIndex).map((function(n,j){return n+j}));(0,_lib.datasetFactory)(vCanvas,chart.getDSdef("line"),"dataset_line",lineSets.length,lineSets,indices)}else{removeLineSet(vCanvas)}}