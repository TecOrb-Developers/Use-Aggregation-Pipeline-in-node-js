"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports._setCategories=_setCategories2;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _msdybasecartesian=_interopRequireDefault(require("../_internal/msdybasecartesian"));var _pareto=require("../../dataset/pareto");var _paretoline=require("../../dataset/paretoline");var _paretoAxis=_interopRequireDefault(require("../../factories/pareto-axis"));var _lib=require("@fusioncharts/core/src/lib");var _paretoDataset=_interopRequireDefault(require("../../factories/pareto-dataset"));var NINETYSTRING=_lib.preDefStr.NINETYSTRING,COLUMN_STR="column";function _setCategories2(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),dataset=dataObj.dataset,numberFormatter=iapi.getFromEnv("number-formatter"),xAxis=iapi.getChildren("xAxis"),data=dataObj.data||dataset&&dataset[0].data||[],catArr=[],datum,dataLen=data.length,i,vLine={};for(i=dataLen-1;i>=0;i--){datum=data[i];if(datum.vline==="true"||datum.vline==="1"||datum.vline===1||datum.vline===true){vLine[i]=datum;data.splice(i,1)}else if(numberFormatter.getCleanValue(datum.value,true)===null){data.splice(i,1)}}data.sort((function(a,b){return numberFormatter.getCleanValue(b.value,true)-numberFormatter.getCleanValue(a.value,true)}));catArr=data.slice();for(i in vLine){catArr.splice(i,0,vLine[i])}xAxis[0].setTickValues(catArr)}var Pareto2D=function(_MSDyBaseCartesian){(0,_inheritsLoose2.default)(Pareto2D,_MSDyBaseCartesian);Pareto2D.getName=function getName(){return"Pareto2D"};function Pareto2D(){var _this;_this=_MSDyBaseCartesian.call(this)||this;_this.isPercentage=true;_this.registerFactory("axis",_paretoAxis.default,["canvas"]);_this.registerFactory("dataset",_paretoDataset.default,["vCanvas"]);return _this}var _proto=Pareto2D.prototype;_proto.getName=function getName(){return"Pareto2D"};_proto.__setDefaultConfig=function __setDefaultConfig(){_MSDyBaseCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.singleseries=true;config.hasLegend=false;config.defaultDatasetType=COLUMN_STR;config.plotfillalpha=NINETYSTRING;config.enablemousetracking=true};_proto._setCategories=function _setCategories(){_setCategories2.call(this)};_proto._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),data=jsonData.data;if(!data||!data.length){return true}};_proto.getDSdef=function getDSdef(name){return name==="column"?_pareto.ParetoColumnDataset:_paretoline.ParetoLineDataset};_proto.getDSGroupdef=function getDSGroupdef(){};return Pareto2D}(_msdybasecartesian.default);var _default=Pareto2D;exports.default=_default;