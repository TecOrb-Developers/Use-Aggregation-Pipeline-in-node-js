"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _lib=require("@fusioncharts/core/src/lib");var _eventApi=require("@fusioncharts/core/src/event-api");var _dependencyManager=require("@fusioncharts/core/src/dependency-manager");var _updater=require("@fusioncharts/core/src/updater");var _rendererEvents=_interopRequireDefault(require("@fusioncharts/core/src/renderer-events"));var _createChart=_interopRequireWildcard(require("./create-chart"));var _SmartlabelManager=_interopRequireDefault(require("@fusioncharts/core/src/_internal/vendors/fusioncharts-smartlabel/src/SmartlabelManager"));var _schedular=require("@fusioncharts/core/src/schedular");var _fileStore=_interopRequireDefault(require("./file-store"));var _globalPolicies=_interopRequireDefault(require("./global-policies"));var _numberFormatter=_interopRequireDefault(require("@fusioncharts/core/src/number-formatter"));var _redraphael=_interopRequireDefault(require("@fusioncharts/core/src/_internal/redraphael/redraphael"));var _redraphael2=_interopRequireDefault(require("@fusioncharts/core/src/_internal/redraphael/redraphael.svg"));var _jsonTranscoder=_interopRequireDefault(require("@fusioncharts/core/src/json-transcoder"));var _redraphael3=_interopRequireDefault(require("@fusioncharts/core/src/_internal/redraphael/redraphael.ext"));var _baseChart=_interopRequireDefault(require("@fusioncharts/core/src/base-chart"));var _dummyTooltipController=_interopRequireDefault(require("@fusioncharts/core/src/dummy-tooltip-controller"));var _redluom=_interopRequireDefault(require("../decryption/core/redluom"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))}keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}var NATIVE_FORMAT="json",FCS=typeof FCS_VERSION==="undefined"?"":FCS_VERSION,FCS_RELEASE_TS=typeof FCS_RELEASE_DATE==="undefined"?"":new Date(FCS_RELEASE_DATE).getTime(),FW=typeof FW_VERSION==="undefined"?"":FW_VERSION,FW_RELEASE_TS=typeof FW_RELEASE_DATE==="undefined"?"":new Date(FW_RELEASE_DATE).getTime(),PC=typeof PC_VERSION==="undefined"?"":PC_VERSION,PC_RELEASE_TS=typeof PC_RELEASE_DATE==="undefined"?"":new Date(PC_RELEASE_DATE).getTime(),FC=typeof FC_VERSION==="undefined"?"":FC_VERSION,FC_RELEASE_TS=typeof FC_RELEASE_TS==="undefined"?"":new Date(FC_RELEASE_DATE).getTime(),FM=typeof FM_VERSION==="undefined"?"":FM_VERSION,FM_RELEASE_TS=typeof FM_RELEASE_DATE==="undefined"?"":new Date(FM_RELEASE_DATE).getTime(),FT=typeof FT_VERSION==="undefined"?"":FT_VERSION,FT_RELEASE_TS=typeof FT_RELEASE_DATE==="undefined"?"":new Date(FT_RELEASE_DATE).getTime(),SCRIPT_NAME_RE=/(^|[\/\\])(fusioncharts\.js)([\?#].*)?$/gi,SIGNATURE_MATCH_RE=/^(FusionCharts|FusionWidgets|FusionMaps)/,LENGTH_CLEANUP_RE=/[^\%\d]*$/gi,URL_RE=/url$/i,MAP_NEEDED=typeof HAS_MAPS==="undefined"?false:HAS_MAPS,DISPLAY="display",NONE="none",URL_STRING="url",FC_STYLES={position:"relative",textAlign:"left",lineHeight:"normal",display:"inline-block",zoom:"1",vAlign:"middle",fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",textDecoration:"none",ieSevenDisplay:"inline",padding:"0",margin:"0",border:"none",direction:"ltr",transform:"none"},RENDERER_JS="javascript",sanitiseFormatStr=function sanitiseFormatStr(str){return str.toString().toLowerCase()},waitingFn=function waitingFn(){return{state:2}},handleContainerVisibility=function(){var store={},intervalId,trackVisibility=function trackVisibility(){var count=0,INTERVALMS=parseInt(FusionCharts.options.visibilityTrackingInterval,10)||300,item,itemObj,container,insertMode,callback;for(item in store){count+=1;itemObj=store[item].chart;container=store[item].container;insertMode=store[item].insertMode;callback=store[item].callback;if(itemObj.disposed||!isHidden(container)){delete store[item];count-=1;delete itemObj.containerHidden;if(itemObj.disposed){return}itemObj.renderOpts={containerElement:container,insertMode:insertMode,callback:callback};itemObj._addChartDependency("chartContainer",{scopeOf:itemObj,opts:{containerElement:container,insertMode:insertMode,callback:callback},resolve:handleRender});itemObj._setState()}else if(store[item]&&store[item].chart){store[item].chart.containerHidden=true;store[item].chart._addChartDependency("chartContainer",{resolve:waitingFn});store[item].chart._setState()}}if(!count){intervalId=clearTimeout(intervalId)}else{intervalId=setTimeout(trackVisibility,INTERVALMS)}};return function(chart,container,insertMode,callback){store[chart.id]={chart:chart,container:container,insertMode:insertMode,callback:callback};if(!intervalId){intervalId=setTimeout(trackVisibility,parseInt(FusionCharts.options.visibilityTrackingInterval,10)||300)}}}(),isHidden=function isHidden(){var getStyle=function getStyle(el,styleArg){var style=styleArg;if(window.getComputedStyle){style=window.getComputedStyle(el).getPropertyValue(style)}else if(el.currentStyle){style=el.currentStyle[style]}return style},hidden=function hidden(el){var parentEl=el.parentNode;if(!parentEl){return false}if(parentEl.nodeType===9){return false}if(getStyle(el,DISPLAY)===NONE){return true}if(parentEl){return hidden(parentEl)}return false};return hidden}();var isReady,UNDEF,smartLabelManager,count=0,registerError=false,stateListOnPriority=["disposed","error","waiting","ready","initialized"],NFStore={},docLink="https://www.fusioncharts.com/dev/migration/deprecated-functionalities?version=3.13.0",registerErrorMessage='You are using incompatible files or deprecated "register" API of FusionCharts, please go through the docs to know more at '+docLink,readyFusionCharts=function readyFusionCharts(){setTimeout((function fcReadyTimeout(){isReady=true;(0,_eventApi.triggerEvent)("ready",FusionCharts,{version:FusionCharts.version,now:true})}),1)},slHandler=function slHandler(){FusionCharts.removeEventListener("initialized",slHandler);smartLabelManager=new _SmartlabelManager.default(document.body||document.getElementsByTagName("body")[0]);_createChart.globalStore.addToEnv("smartLabel",smartLabelManager)};function getStateForDep(){return this.state}function getMsgForDep(){return this.msg}function getMsgStyleForDep(){return this.msgStyle}function uniqueId(){return"chartobject-"+(uniqueId.lastId+=1)}uniqueId.lastId=0;function objToLowerCase(obj){var clone={},i;for(i in obj){clone[i.toLowerCase()]=obj[i]}return clone}function objToHash(obj){var hashArr=[],i;for(i in obj){hashArr.push(i+"_"+obj[i])}hashArr.sort();return hashArr.join(",")}function deconstructPolicySet(policies,options,obj){var policy,prop;for(policy in policies){if(policies[policy]instanceof Array){options[policies[policy][0]]=obj[policy]}else{for(prop in policies[policy]){options[policies[policy][prop][0]]=obj[policy][prop]}}}}function _getParsedArgs(data,jsonData,format,silent){var parsedArgs={};parsedArgs["native"]=format===NATIVE_FORMAT;parsedArgs.dataFormat=format;parsedArgs.format=NATIVE_FORMAT;parsedArgs.data=jsonData;parsedArgs.dataSource=data;parsedArgs.silent=!!silent;return parsedArgs}function getScriptBaseUri(scriptNameRegex){var scripts=window.document.getElementsByTagName("script"),ll=scripts.length,src,i;for(i=0;i<ll;i+=1){src=scripts[i].getAttribute("src");if(!(typeof src==="undefined"||src===null||src.match(scriptNameRegex)===null)){return src.replace(scriptNameRegex,"$1")}}}function isDuplicateId(lookupId,container){var lookupElement=document.getElementById(lookupId),containerId=container.id||container.getAttribute("id"),children,i,ii;if(lookupElement===null){return false}if(lookupId===containerId){return true}children=container.getElementsByTagName("*");for(i=0,ii=children.length;i<ii;i++){if(children[i]===lookupElement){return false}}return true}function purgeDOM(d){var a=d.attributes,i,l,n;if(a){for(i=a.length-1;i>=0;i-=1){n=a[i].name;if(typeof d[n]==="function"){d[n]=null}}}a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){purgeDOM(d.childNodes[i])}}}function getdataLoadStartMessage(chartObj){var chartOptions=chartObj.options,args=chartObj.args,image,message;image={imageHAlign:(0,_lib.pluck)(args.dataLoadStartMessageImageHAlign,chartOptions.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.dataLoadStartMessageImageVAlign,chartOptions.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.dataLoadStartMessageImageAlpha,chartOptions.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.dataLoadStartMessageImageScale,chartOptions.baseChartMessageImageScale)};message={fontFamily:args.dataLoadStartMessageFont||chartOptions.baseChartMessageFont,fontSize:args.dataLoadStartMessageFontSize||chartOptions.baseChartMessageFontSize,color:args.dataLoadStartMessageColor||chartOptions.baseChartMessageColor};return{msg:chartOptions.dataLoadStartMessage,msgStyle:{image:image,message:message}}}function getDataInvalidMessage(chartObj){var chartOptions=chartObj.options,args=chartObj.args,image,message;image={imageHAlign:(0,_lib.pluck)(args.dataInvalidMessageImageHAlign,chartOptions.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.dataInvalidMessageImageVAlign,chartOptions.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.dataInvalidMessageImageAlpha,chartOptions.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.dataInvalidMessageImageScale,chartOptions.baseChartMessageImageScale)};message={fontFamily:args.dataInvalidMessageFont||chartOptions.baseChartMessageFont,fontSize:args.dataInvalidMessageFontSize||chartOptions.baseChartMessageFontSize,color:args.dataInvalidMessageColor||chartOptions.baseChartMessageColor};return{msg:chartOptions.dataInvalidMessage,msgStyle:{image:image,message:message}}}function getLoadChartMessage(chartObj){var options=chartObj.options,args=chartObj.args,image,message;image={imageHAlign:args.loadMessageImageHAlign||options.baseChartMessageImageHAlign,imageVAlign:args.loadMessageImageVAlign||options.baseChartMessageImageVAlign,imageAlpha:args.loadMessageImageAlpha||options.baseChartMessageImageAlpha,imageScale:args.loadMessageImageScale||options.baseChartMessageImageScale};message={color:args.loadMessageColor||options.baseChartMessageColor,fontFamily:args.loadMessageFont||options.baseChartMessageFont,fontSize:args.loadMessageFontSize||options.baseChartMessageFontSize};return{msg:chartObj.options.showChartLoadingMessage?options.PBarLoadingText||options.loadMessage:"",msgStyle:{message:message,image:image}}}function showUnsupportedChartMessage(chartObj){var args=chartObj.args,options=chartObj.options,image,message;image={imageHAlign:args.typeNotSupportedMessageImageHAlign||options.baseChartMessageImageHAlign,imageVAlign:args.typeNotSupportedMessageImageVAlign||options.baseChartMessageImageVAlign,imageAlpha:args.typeNotSupportedMessageImageAlpha||options.baseChartMessageImageAlpha,imageScale:args.typeNotSupportedMessageImageScale||options.baseChartMessageImageScale};message={color:args.typeNotSupportedMessageColor||options.baseChartMessageColor,fontFamily:args.typeNotSupportedMessageFont||options.baseChartMessageFont,fontSize:args.typeNotSupportedMessageFontSize||options.baseChartMessageFontSize};if(registerError){options.messageURL=docLink}return{msg:registerError?registerErrorMessage:options.typeNotSupportedMessage,msgStyle:{image:image,message:message}}}function showUnsupportedBrowserMessage(chartObj){var args=chartObj.args,options=chartObj.options,image,message;image={imageHAlign:args.browserNotSupportedMessageImageHAlign||options.baseChartMessageImageHAlign,imageVAlign:args.browserNotSupportedMessageImageVAlign||options.baseChartMessageImageVAlign,imageAlpha:args.browserNotSupportedMessageImageAlpha||options.baseChartMessageImageAlpha,imageScale:args.browserNotSupportedMessageImageScale||options.baseChartMessageImageScale};message={color:args.browserNotSupportedMessageColor||options.baseChartMessageColor,fontFamily:args.browserNotSupportedMessageFont||options.baseChartMessageFont,fontSize:args.browserNotSupportedMessageFontSize||options.baseChartMessageFontSize};return{msg:options.browserNotSupportedMessage,msgStyle:{image:image,message:message}}}function registerEvtHandler(){registerError=true}function _setChartData(_scope){var _this$opts=this.opts,data=_this$opts.data,sanitisedFormat=_this$opts.sanitisedFormat,silent=_this$opts.silent,dataFormats=(0,_dependencyManager.getDepsByType)("transcoder"),transcoderObj=dataFormats[sanitisedFormat]&&dataFormats[sanitisedFormat](),chartOptions=_scope.options,jsonData,dataComp,_getDataInvalidMessag=getDataInvalidMessage(_scope),msg=_getDataInvalidMessag.msg,msgStyle=_getDataInvalidMessag.msgStyle,status;_scope.__state.newDataArrived=true;if(transcoderObj){if(transcoderObj.toJSON){dataComp=transcoderObj.toJSON(data,_scope);status=dataComp.error?{state:1,msg:msg,msgStyle:msgStyle}:{state:3}}else{dataComp={error:new Error("Unable to convert data.")};status={state:1,msg:msg,msgStyle:msgStyle}}}else{dataComp={error:new Error("Unable to convert data.")};status={state:1,msg:msg,msgStyle:msgStyle}}jsonData=dataComp.error?dataComp:dataComp.data;chartOptions.dataErroneous=chartOptions.error=dataComp.error;chartOptions.dataSource=jsonData;chartOptions.dataFormat=sanitisedFormat;if(!chartOptions.dataErroneous){(0,_eventApi.triggerEvent)("beforeDataUpdate",_scope,_getParsedArgs(data,jsonData,sanitisedFormat,silent),UNDEF,_updater.onDataUpdateSuccess,_updater.onDataUpdateCancel)}return status}function _setChartDataUrl(_scope){var _this$opts2=this.opts,_this$opts2$url=_this$opts2.url,url=_this$opts2$url===void 0?"":_this$opts2$url,format=_this$opts2.format,config=_this$opts2.config,callback=_this$opts2.callback,silent=_this$opts2.silent,dataFormats=(0,_dependencyManager.getDepsByType)("transcoder"),sanitisedFormat,_getdataLoadStartMess=getdataLoadStartMessage(_scope),msg=_getdataLoadStartMess.msg,msgStyle=_getdataLoadStartMess.msgStyle,transcoderObj;if(typeof format==="undefined"||format===null||typeof format.toString!=="function"){format=_scope.options.dataFormat;(0,_eventApi.raiseWarning)(_scope,"03091609","param","FusionCharts#setChartDataUrl","Invalid Data Format. Reverting to current data format - "+format)}sanitisedFormat=sanitiseFormatStr(format);if(!URL_RE.test(sanitisedFormat)){sanitisedFormat+=URL_STRING}transcoderObj=dataFormats[sanitisedFormat]&&dataFormats[sanitisedFormat]();_scope.jsVars.stallLoad=true;if(transcoderObj){if(transcoderObj.toJSON){transcoderObj.toJSON(url,config,callback,silent,_scope);return{state:2,msg:msg,msgStyle:msgStyle}}return{state:1,error:new Error("Unable to fetch data.")}}return{state:1,error:new Error("Unable to fetch data.")}}function onChartTypeChange(_scope){var state=_scope.__state,chartType=_scope.chartType(),lastRenderedChart,eiMethod,toolTips=_scope.apiInstance&&_scope.apiInstance.getFromEnv("toolTipController")&&_scope.apiInstance.getFromEnv("toolTipController").toolTips,prevChartDefinition=(0,_dependencyManager.getDep)(state.lastRenderedType,"chartapi")||(0,_dependencyManager.getDep)(state.lastRenderedType,"maps");toolTips&&(0,_lib.removeAllTooltipOnChart)(toolTips,state.lastRenderedType===chartType);if(prevChartDefinition&&state.lastRenderedType!==chartType){(0,_eventApi.triggerEvent)("chartTypeChanged",_scope,{previousType:state.lastRenderedType,newType:chartType});lastRenderedChart=prevChartDefinition;if(lastRenderedChart){for(eiMethod in lastRenderedChart){delete _scope[eiMethod]}}}state.lastRenderedType=chartType}function mapResolver(_scope){var _getLoadChartMessage=getLoadChartMessage(_scope),msgStyle=_getLoadChartMessage.msgStyle,msg=_getLoadChartMessage.msg;import(
/* webpackChunkName: "fusioncharts.maps" */
"@fusioncharts/maps/src").then((function(mapModule){FusionCharts.addDep(mapModule["default"]);onChartTypeChange(_scope);_scope._addChartDependency("mapModuleLoad",{resolve:function resolve(){return{state:3}}});(0,_eventApi.triggerEvent)("loaded",_scope,{type:_scope.chartType(),renderer:"javascript"},[_scope.id]);_scope._setState()}))["catch"]((function(){var _showUnsupportedChart=showUnsupportedChartMessage(_scope),msgStyle=_showUnsupportedChart.msgStyle,msg=_showUnsupportedChart.msg;_scope._addChartDependency("mapModuleLoad",{resolve:function resolve(){return{state:1,msgStyle:msgStyle,msg:msg}}});(0,_eventApi.raiseError)(FusionCharts,"12052314141","run","JavaScriptRenderer~Maps",new Error("FusionCharts' maps file is required to render the visualization."));_scope._setState();(0,_eventApi.triggerEvent)("charttypeinvalid",_scope,{},[_scope.id])}));return{state:2,msgStyle:msgStyle,msg:msg}}function handleChartModuleLoading(_scope){var chartType=this.opts.value,fileLoadPromise=FusionCharts.getDep(chartType,"dependency")||FusionCharts.getDep(chartType,"chartapi")||FusionCharts.getDep(chartType,"maps"),_showUnsupportedChart2=showUnsupportedChartMessage(_scope),msgStyle=_showUnsupportedChart2.msgStyle,msg=_showUnsupportedChart2.msg;registerError=false;if(fileLoadPromise){if(fileLoadPromise.then){FusionCharts.addEventListener("register",registerEvtHandler);fileLoadPromise.then((function(module){if(_scope.disposed){return}if(module.__esModule){var isMapsAPI=(0,_dependencyManager.getDep)(chartType,"maps");FusionCharts.addDep(module["default"]);!(isMapsAPI&&MAP_NEEDED)&&onChartTypeChange(_scope);_scope._addChartDependency("chartModuleLoad",{resolve:function resolve(){if(isMapsAPI&&MAP_NEEDED){_scope._addChartDependency("mapModuleLoad",{scopeOf:_scope,resolve:mapResolver})}else{(0,_eventApi.triggerEvent)("loaded",_scope,{type:chartType,renderer:"javascript"},[_scope.id])}return{state:3}}})}else{_scope._addChartDependency("chartModuleLoad",{resolve:function resolve(){if((0,_dependencyManager.getDep)(chartType,"maps")&&MAP_NEEDED){_scope._addChartDependency("mapModuleLoad",{scopeOf:_scope,resolve:mapResolver})}else{onChartTypeChange(_scope);(0,_eventApi.triggerEvent)("loaded",_scope,{type:chartType,renderer:"javascript"},[_scope.id])}return{state:3}}})}_scope._setState()}))["catch"]((function(reason){if(_scope.disposed){return}if(reason instanceof Event){_scope._addChartDependency("chartModuleLoad",{resolve:function resolve(){return _objectSpread({state:1},showUnsupportedChartMessage(_scope))}});_scope._setState();(0,_eventApi.triggerEvent)("charttypeinvalid",_scope,{},[_scope.id])}else{throw new Error(reason.stack)}}));return _objectSpread({state:2},getLoadChartMessage(_scope))}if((0,_dependencyManager.getDep)(chartType,"maps")&&MAP_NEEDED){_scope._addChartDependency("mapModuleLoad",{scopeOf:_scope,resolve:mapResolver});_scope._setState()}else{onChartTypeChange(_scope);(0,_eventApi.triggerEvent)("loaded",_scope,{type:chartType,renderer:"javascript"},[_scope.id])}return{state:3}}(0,_eventApi.triggerEvent)("charttypeinvalid",this,{},[this.id]);return{state:1,msgStyle:msgStyle,msg:msg}}function handleRender(_scope){var _this$opts3=this.opts,containerElement=_this$opts3.containerElement,insertMode=_this$opts3.insertMode,callback=_this$opts3.callback,alt,ref,size,s;if(!callback){if(typeof insertMode==="function"){callback=insertMode;insertMode=UNDEF}else if(!insertMode&&typeof containerElement==="function"){callback=containerElement;containerElement=UNDEF}}else if(typeof callback!=="function"){callback=UNDEF}insertMode=(insertMode||_scope.options.insertMode).toLowerCase()||_lib.domInsertModes.REPLACE;if(typeof containerElement==="undefined"){containerElement=_scope.options.containerElementId||_scope.options.containerElement}if(typeof containerElement==="string"){containerElement=document.getElementById(containerElement)}if(typeof containerElement==="undefined"||containerElement===null){(0,_eventApi.raiseError)(_scope,"03091456","run",".render()",new Error("Unable to find the container DOM element."));(0,_eventApi.triggerEvent)("containernotfound",_scope,{},[_scope.id]);return{state:1}}if(isDuplicateId(_scope.id,containerElement)){(0,_eventApi.raiseError)(_scope,"05102109","run",".render()",new Error("A duplicate object already exists with the specific Id: "+_scope.id));return{state:1}}if(isHidden(containerElement)){_scope.containerHidden=true;handleContainerVisibility(_scope,containerElement,insertMode,callback);return{state:2}}delete _scope.containerHidden;if((ref=window[_scope.id])&&ref.FusionCharts&&ref.FusionCharts===_scope||(ref=_scope.ref)&&ref.FusionCharts&&ref.FusionCharts===_scope){_scope._dispose();if(ref===window[_scope.id]){window[_scope.id]=UNDEF}}if(typeof window[_scope.id]!=="undefined"){(0,_eventApi.raiseError)(_scope,"25081843","comp",".render",new Error("#25081843:IECompatibility() Chart Id is same as a JavaScript variable name. "+"Variable naming error. Please use unique name for chart JS variable, chart-id and "+"container id."));return{state:1}}alt=document.createElement(_scope.options.containerElementType||"span");alt.setAttribute("id",_scope.id);if(insertMode!=="append"&&insertMode!=="prepend"){while(containerElement.hasChildNodes()){containerElement.removeChild(containerElement.firstChild)}}if(insertMode==="prepend"&&containerElement.firstChild){containerElement.insertBefore(alt,containerElement.firstChild)}else{containerElement.appendChild(alt)}_scope.options.containerElement=containerElement;_scope.options.containerElementId=containerElement.id;if(s=alt.style){s.position=FC_STYLES.position;s.textAlign=FC_STYLES.textAlign;s.lineHeight=FC_STYLES.lineHeight;s.display=FC_STYLES.display;s.zoom=FC_STYLES.zoom;s["vertical-align"]=FC_STYLES.vAlign;s.fontWeight=FC_STYLES.fontWeight;s.fontVariant=FC_STYLES.fontVariant;s.fontStyle=FC_STYLES.fontStyle;s.textDecoration=FC_STYLES.textDecoration;s["*DISPLAY"]=FC_STYLES.ieSevenDisplay;s.padding=FC_STYLES.padding;s.margin=FC_STYLES.margin;s.border=FC_STYLES.border;s.direction=FC_STYLES.direction;s.transform=FC_STYLES.transform}_scope.options.containerClassName&&(alt.className=_scope.options.containerClassName);size=(0,_lib.normalizeCSSDimension)(_scope.width,_scope.height,alt);_scope.__state.renderedWidth=size.pixelWidth;_scope.__state.renderedHeight=size.pixelHeight;_scope.__state.rendering=true;_scope.renderOpts={containerElement:alt,insertMode:insertMode,callback:callback};return{state:3}}var FusionCharts=function(){function FusionCharts(){var _ref,_this=this;var opts={};var importVMLRenderer=FusionCharts.getDep("vml","dependency");this.__state={};this.id=_lib.BLANKSTRING;this._deps={};this.__state._unresolvedDeps={};this.__state.state=4;if(arguments.length===1&&typeof(arguments.length<=0?undefined:arguments[0])==="object"){opts=arguments.length<=0?undefined:arguments[0]}if(arguments.length>1&&typeof(_ref=arguments.length-1,_ref<0||arguments.length<=_ref?undefined:arguments[_ref])==="object"){var _ref2;(0,_lib.extend2)(opts,(_ref2=arguments.length-1,_ref2<0||arguments.length<=_ref2?undefined:arguments[_ref2]),false,true)}this.id=typeof opts.id==="undefined"?uniqueId():opts.id;this.args=opts;this._parsePolicies(_globalPolicies.default);this._attachDefaultEventListeners();this.jsVars.fcObj=this;(0,_eventApi.triggerEvent)("beforeInitialize",this,opts);if(FusionCharts.items[this.id]instanceof FusionCharts){(0,_eventApi.raiseWarning)(this,"06091847","param","",new Error('A FusionCharts object with the specified id "'+this.id+'" already exists.'+("Renaming it to "+(this.id=uniqueId()))))}this.attributes.id=this.id;if(typeof __webpack_public_path__!=="undefined")__webpack_public_path__=FusionCharts.getScriptBaseURI();if(importVMLRenderer){this._addChartDependency("chartVmlRendererLoad",{resolve:function resolve(){importVMLRenderer.then((function(_ref3){var vmlRenderer=_ref3.default;FusionCharts.addDep(vmlRenderer);_this._addChartDependency("chartVmlRendererLoad",{resolve:function resolve(){return{state:3}}});_this._setState()}))["catch"]((function(){(0,_eventApi.raiseError)(FusionCharts,"162162788","run",">RendererError~VMLRendererLoad","Unable to load FusionCharts VML renderer.");_this._addChartDependency("chartVmlRendererLoad",{resolve:function resolve(){return{state:1}}});_this._setState()}));return{state:2}}});this._setState()}this.chartType&&this.chartType(opts.type||opts.swfUrl||"");this.setChartData(this.args.dataSource,this.args.dataFormat,UNDEF,UNDEF,true);FusionCharts.items[this.id]=this;FusionCharts.defaultOptions=FusionCharts.options;(0,_eventApi.triggerEvent)("initialized",this,opts);this._setState()}FusionCharts.getObjectReference=function getObjectReference(id){if(id===void 0){id=""}return FusionCharts.items[id]&&FusionCharts.items[id].ref};FusionCharts.register=function register(){(0,_eventApi.triggerEvent)("register",FusionCharts,arguments,UNDEF,(function _registerCallback(){(0,_eventApi.raiseError)(this,"0604111219","run",".register()",new Error(registerErrorMessage))}))};FusionCharts.render=function render(options,callback){if(options instanceof FusionCharts){options.render(callback);return options}return new FusionCharts(options).render(callback)};FusionCharts.addDep=function addDep(){for(var _len=arguments.length,dep=new Array(_len),_key=0;_key<_len;_key++){dep[_key]=arguments[_key]}return _dependencyManager.addDep.call.apply(_dependencyManager.addDep,[this].concat(dep))};FusionCharts.getDep=function getDep(name,type){return _dependencyManager.getDep.call(this,name,type)};FusionCharts.addEventListener=function addEventListener(type,listener){return(0,_eventApi.addListener)(type,listener)};FusionCharts.on=function on(type,listener){return FusionCharts.addEventListener(type,listener)};FusionCharts.removeEventListener=function removeEventListener(type,listener){return(0,_eventApi.removeListener)(type,listener)};FusionCharts.ready=function ready(readyCallback,args,context){if(args===void 0){args=FusionCharts}if(context===void 0){context=FusionCharts}var closure=function closure(){readyCallback.call(context,args)};if(typeof readyCallback==="function"){isReady?setTimeout(closure,0):FusionCharts.addEventListener("ready",closure)}};FusionCharts.formatNumber=function formatNumber(num,configArg,axisIndex){if(configArg===void 0){configArg={}}var config=objToLowerCase(configArg),hashKey=objToHash(config),NF;if(NFStore[hashKey]){NF=NFStore[hashKey]}else{NFStore[hashKey]=NF=new _numberFormatter.default(config,{useScaleRecursively:true})}NF.configure(config);return NF.dataLabels(num,axisIndex)};FusionCharts._getCleanValue=function _getCleanValue(num,configArg){if(configArg===void 0){configArg={}}var config=objToLowerCase(configArg),hashKey=objToHash(config),NF;if(NFStore[hashKey]){NF=NFStore[hashKey]}else{NFStore[hashKey]=NF=new _numberFormatter.default(config,{useScaleRecursively:true});NF.configure(config)}return NF.getCleanValue(num)};FusionCharts.transcodeData=function transcodeData(data,source,target,advanced){var dataFormats=(0,_dependencyManager.getDepsByType)("transcoder"),sanitisedTarget=sanitiseFormatStr(target),sanitisedSource=sanitiseFormatStr(source),jsonData,outputData,transcoderObjSource;if(!sanitisedSource||typeof sanitisedSource.toString!=="function"||!sanitisedTarget||typeof sanitisedTarget.toString!=="function"||typeof dataFormats[sanitisedTarget]==="undefined"||typeof dataFormats[sanitisedSource]==="undefined"){(0,_eventApi.raiseError)(this,"14090217","param",".transcodeData()","Unrecognized data-format specified during transcoding.");return}transcoderObjSource=dataFormats[sanitisedSource]();if(transcoderObjSource.toJSON){jsonData=transcoderObjSource.toJSON(data,this);outputData=dataFormats[sanitisedTarget]().fromJSON(jsonData.data,this)}if(!(jsonData.error instanceof Error)){outputData.error=jsonData.error}return advanced?outputData:outputData.data};FusionCharts.setAnimation=function setAnimation(rule){!FusionCharts.options._globalAnimationRule&&(FusionCharts.options._globalAnimationRule=[]);FusionCharts.options._globalAnimationRule.push(rule)};FusionCharts.setEasingEffect=function setEasingEffect(name,fn){FusionCharts.getDep("redraphael","plugin").easing_formulas[name]=fn};FusionCharts.getScriptBaseURI=function getScriptBaseURI(){return FusionCharts.options.scriptBaseUri};FusionCharts.setScriptBaseURI=function setScriptBaseURI(scriptBaseURI){FusionCharts.options.scriptBaseUri=scriptBaseURI;if(typeof __webpack_public_path__!=="undefined")__webpack_public_path__=scriptBaseURI};FusionCharts.getChartFromId=function getChartFromId(id){return FusionCharts.items[id]};FusionCharts.getVersion=function getVersion(name){var verStr={fcs:FCS,"fcs-xt":{fc:FC,fw:FW,pc:PC,fm:FM},ft:FT};return verStr[name]||verStr["fcs-xt"][name]||verStr};FusionCharts.getReleaseDate=function getReleaseDate(name){var relaseDateObj={fcs:FCS_RELEASE_TS,"fcs-xt":{fc:FC_RELEASE_TS,fw:FW_RELEASE_TS,pc:PC_RELEASE_TS,fm:FM_RELEASE_TS},ft:FT_RELEASE_TS};return relaseDateObj[name]||relaseDateObj["fcs-xt"][name]||relaseDateObj};var _proto=FusionCharts.prototype;_proto._attachDefaultEventListeners=function _attachDefaultEventListeners(){var chart=this,events=chart.options.events,key,item;if(events){for(key in events){if(typeof events[key]==="function"){chart.addEventListener(key,events[key])}}}chart.options.renderer=RENDERER_JS;for(item in _rendererEvents.default){chart.addEventListener(item,_rendererEvents.default[item])}};_proto._setState=function _setState(){var chartInstance=this,deps=chartInstance._deps,dep,depState,prevChartState=chartInstance.__state.state,chartState=4;for(var key in deps){if(deps.hasOwnProperty(key)){dep=deps[key];depState=dep.getState();if(chartState>depState){chartState=depState;chartInstance.__state.currChartMsg=dep.getMsg();chartInstance.__state.currChartMsgStyle=dep.getMsgStyle()}if(depState===3){chartInstance._removeChartDependency(key)}}}chartInstance.__state.prevState=prevChartState;chartInstance.__state.state=chartState;if(prevChartState!==chartState){(0,_eventApi.triggerEvent)("stateChanged",chartInstance,{prevState:stateListOnPriority[prevChartState],state:stateListOnPriority[chartState]},[chartInstance.id])}if(!chartInstance.containerHidden){if(chartState===3&&chartInstance.__state.renderInvoked&&chartInstance.__state.isDrawInvoked){var _chartInstance$render=chartInstance.renderOpts,containerElement=_chartInstance$render.containerElement,callback=_chartInstance$render.callback;chartInstance._renderChart(containerElement,UNDEF,callback);this._clearPrevContext();delete chartInstance.renderOpts.callback}else if((chartState===2||chartState===1)&&chartInstance.__state.renderInvoked&&chartInstance.__state.isDrawInvoked&&chartInstance._contextChanged()&&!(chartInstance.__state.renderComplete&&chartState===2)){var _chartInstance$render2=chartInstance.renderOpts,_containerElement2=_chartInstance$render2.containerElement,_callback2=_chartInstance$render2.callback;chartInstance._renderChart(_containerElement2,"base",chartState===1&&_callback2,chartInstance.__state.currChartMsg,chartInstance.__state.currChartMsgStyle);this._clearPrevContext();chartState===1&&delete chartInstance.renderOpts.callback}}};_proto._clearPrevContext=function _clearPrevContext(){this.__state.prevChartMsg=_lib.BLANKSTRING;this.__state.prevChartMsgStyle={}};_proto._contextChanged=function _contextChanged(){if(this.__state.currChartMsg!==this.__state.prevChartMsg){this.__state.prevChartMsg=this.__state.currChartMsg;this.__state.prevChartMsgStyle=this.__state.currChartMsgStyle;return true}var prevImageStyle=this.__state.prevChartMsgStyle&&this.__state.prevChartMsgStyle.image,currImageStyle=this.__state.currChartMsgStyle&&this.__state.currChartMsgStyle.image,prevMsgStyle=this.__state.prevChartMsgStyle&&this.__state.prevChartMsgStyle.message,currMsgStyle=this.__state.currChartMsgStyle&&this.__state.currChartMsgStyle.message;if(prevImageStyle&&(prevImageStyle.imageHAlign!==currImageStyle.imageHAlign||prevImageStyle.imageVAlign!==currImageStyle.imageVAlign||prevImageStyle.imageAlpha!==currImageStyle.imageAlpha||prevImageStyle.imageScale!==currImageStyle.imageScale||prevMsgStyle.color!==currMsgStyle.color||prevMsgStyle.fontFamily!==currMsgStyle.fontFamily||prevMsgStyle.fontSize!==currMsgStyle.fontSize)){this.__state.prevChartMsg=this.__state.currChartMsg;this.__state.prevChartMsgStyle=this.__state.currChartMsgStyle;return true}return false};_proto._sudoSetState=function _sudoSetState(state){this.__state.prevState=this.__state.state;this.__state.state=state;(0,_eventApi.triggerEvent)("stateChanged",this,{prevState:stateListOnPriority[this.__state.prevState],state:stateListOnPriority[this.__state.state]},[this.id])};_proto._getState=function _getState(){return stateListOnPriority[this.__state.state]};_proto._addChartDependency=function _addChartDependency(name,_dep){this._deps&&this._deps[name]&&this._removeChartDependency(name);this._deps[name]=_dep;_dep.getState=getStateForDep;_dep.getMsg=getMsgForDep;_dep.getMsgStyle=getMsgStyleForDep;Object.assign(_dep,_dep.resolve(_dep.scopeOf))};_proto._removeChartDependency=function _removeChartDependency(name){if(this._deps[name]){this._deps[name].removed=true;delete this._deps[name]}};_proto._parsePolicies=function _parsePolicies(policies){var options=this.args,policy,value,prop;for(policy in policies){if(_globalPolicies.default[policy]instanceof Array){value=options[policies[policy][0]];this[policy]=typeof value==="undefined"?policies[policy][1]:value}else{if(typeof this[policy]!=="object"){this[policy]={}}for(prop in policies[policy]){value=options[policies[policy][prop][0]];this[policy][prop]=typeof value==="undefined"?policies[policy][prop][1]:value}}}};_proto.hasRendered=function hasRendered(){return!!(this.jsVars.hcObj&&this.jsVars.hcObj.hasRendered)};_proto.setTransparent=function setTransparent(transparencyArg){var vars;var transparency=transparencyArg;if(!(vars=this.jsVars)){return}if(typeof transparency!=="boolean"&&transparency!==null){transparency=true}vars.transparent=transparency===null?false:transparency===true};_proto.addEventListener=function addEventListener(type,listener){return(0,_eventApi.addListener)(type,listener,this)};_proto.on=function on(type,listener){return this.addEventListener(type,listener)};_proto.removeEventListener=function removeEventListener(type,listener){return(0,_eventApi.removeListener)(type,listener,this)};_proto.formatNumber=function formatNumber(num,type,configArg,yAxisIndex){var chartObj=this,chart=chartObj.apiInstance||{},numberFormatter=chart.numberFormatter,config=configArg,dataObj,dataChartTagJSON,configHashKey,hashKey,NF,formatedStr;configHashKey=objToHash(config);config=config&&objToLowerCase(config)||{};if(configHashKey===""){if(numberFormatter){NF=numberFormatter}else{dataObj=chartObj.options.dataSource;dataChartTagJSON=dataObj.chart||{};hashKey=objToHash(dataChartTagJSON);if(NFStore[hashKey]){NF=NFStore[hashKey]}else{NFStore[hashKey]=NF=new _numberFormatter.default(chart,dataChartTagJSON)}}}else{dataObj=chartObj.options.dataSource;dataChartTagJSON=dataObj.chart||{};dataChartTagJSON=(0,_lib.extend2)((0,_lib.extend2)({},dataChartTagJSON),config);hashKey=objToHash(dataChartTagJSON);if(NFStore[hashKey]){NF=NFStore[hashKey]}else{NFStore[hashKey]=NF=new _numberFormatter.default(chart,dataChartTagJSON)}}switch((type&&type.toLowerCase?type:"").toLowerCase()){case"yaxisvalues":formatedStr=NF.yAxis(num,yAxisIndex);break;case"xaxisvalues":formatedStr=NF.xAxis(num);break;case"scale":formatedStr=NF.scale(num);break;default:formatedStr=NF.dataLabels(num,yAxisIndex);break}return formatedStr};_proto.clone=function clone(overrides,argsOnlyArg){var typeofParams=typeof overrides,crcObjects={},argsOnly=argsOnlyArg,options=(0,_lib.extend2)({},this.args,false,true);deconstructPolicySet(_globalPolicies.default,options,this);delete options.id;delete options.animate;delete options.stallLoad;crcObjects.link=options.link;options=(0,_lib.extend2)({},options,false,true);options.link=crcObjects.link;switch(typeofParams){case"object":(0,_lib.extend2)(options,overrides,false,true);break;case"boolean":argsOnly=overrides;break}return argsOnly?options:new FusionCharts(options)};_proto.isActive=function isActive(){if(!this.ref||window.document.getElementById(this.id)!==this.ref){return false}try{return SIGNATURE_MATCH_RE.test("FusionCharts")}catch(e){return false}};_proto.chartType=function chartType(value,optionsArg){var chartObj=this,options=optionsArg,opts=chartObj.options,src;if(typeof value==="string"&&value!==""){options=typeof options==="object"?options:{};src=value.replace(/[\?\#][\s\S]*$/g,"");opts.chartType=src.replace(/^[\s\S]*\//gi,"");opts.chartTypeSourcePath=src.indexOf("/")===-1?options.chartTypeSourcePath||FusionCharts.options.chartTypeSourcePath||"":src.replace(/[^\/]*?$/gi,"");if(opts.chartType==="zoomscatter"&&!document.createElement("canvas").getContext){var _showUnsupportedBrows=showUnsupportedBrowserMessage(chartObj),msgStyle=_showUnsupportedBrows.msgStyle,msg=_showUnsupportedBrows.msg;this._addChartDependency("chartModuleLoad",{scopeOf:this,opts:{value:opts.chartType},resolve:function resolve(){return{state:1,msgStyle:msgStyle,msg:msg}}});this._setState();return}if((opts.chartType==="timeseries"||opts.chartType==="chord"||opts.chartType==="sankey")&&_lib.isIE){var _showUnsupportedBrows2=showUnsupportedBrowserMessage(chartObj),_msgStyle=_showUnsupportedBrows2.msgStyle,_msg=_showUnsupportedBrows2.msg;this._addChartDependency("chartModuleLoad",{scopeOf:this,opts:{value:opts.chartType},resolve:function resolve(){return{state:1,msgStyle:_msgStyle,msg:_msg}}});this._setState();return}(0,_eventApi.triggerEvent)("resourceRequested",chartObj);this._addChartDependency("chartModuleLoad",{scopeOf:this,opts:{value:opts.chartType},resolve:handleChartModuleLoading});if(typeof options.dataSource!=="undefined"&&options.dataSource!==null){this.setChartData(options.dataSource,options.dataFormat,options.dataConfiguration)}this._setState()}else if(value!==UNDEF){var _showUnsupportedChart3=showUnsupportedChartMessage(this),_msgStyle2=_showUnsupportedChart3.msgStyle,_msg2=_showUnsupportedChart3.msg;this._addChartDependency("chartModuleLoad",{resolve:function resolve(){return{state:1,msgStyle:_msgStyle2,msg:_msg2}}});this._setState();(0,_eventApi.triggerEvent)("charttypeinvalid",this,{},[this.id]);return}return(opts.chartType||"").toLowerCase()};_proto.setChartDataUrl=function setChartDataUrl(_url,format,config,callback,silent){var url=_url||"";this._addChartDependency("data",{scopeOf:this,opts:{url:url,format:format,config:config,callback:callback,silent:silent},resolve:_setChartDataUrl});this._setState()};_proto.setChartData=function setChartData(dataSourceArg,formatArg,config,callback,silent){if(silent===void 0){silent=true}var chartObj=this,dataSource=dataSourceArg,format=formatArg,sanitisedFormat;chartObj.originalDataSource=dataSourceArg;if(typeof dataSource!=="undefined"&&dataSource!==null){if(typeof format!=="string"){switch(typeof dataSource){case"function":dataSource=dataSource.call(chartObj,chartObj.options.dataConfiguration);format=chartObj.args.dataFormat="JSON";break;case"string":format=chartObj.args.dataFormat=/^\s*?\{[\s\S]*\}\s*?$/g.test(format)?"JSON":"XML";break;case"object":format=chartObj.args.dataFormat="JSON";break}}}else{format=NATIVE_FORMAT}sanitisedFormat=sanitiseFormatStr(format);if(sanitisedFormat==="xml"&&chartObj.apiInstance&&chartObj.apiInstance.config&&chartObj.apiInstance.config.isXMLUnsupported){return}if(URL_RE.test(sanitisedFormat)){chartObj.setChartDataUrl(dataSource,sanitisedFormat,config,callback,silent)}else{this._addChartDependency("data",{opts:{data:dataSource,sanitisedFormat:sanitisedFormat,config:config,callback:callback,silent:silent},scopeOf:chartObj,resolve:_setChartData});!chartObj.disposed&&this._setState()}};_proto.getChartData=function getChartData(_format,advanced,update){var format=_format||NATIVE_FORMAT;if(typeof _format==="object"&&_format.format){format=_format.format}var chartObj=this,sanitisedFormat=sanitiseFormatStr(format===null?NATIVE_FORMAT:format),transcoderObj=(0,_dependencyManager.getDepsByType)("transcoder")[sanitisedFormat](),chartOptions=chartObj.options,api=chartObj.apiInstance,cData,chartData=!update&&(cData=api&&api.getCollatedData&&api.getCollatedData(chartOptions.dataSource))?cData:chartOptions.dataSource,formattedData;if(typeof _format==="object"&&_format.isRaw===1){formattedData=chartObj.originalDataSource;return formattedData}if(sanitisedFormat==="xml"&&api&&api.config&&api.config.isXMLUnsupported){return _lib.BLANKSTRING}if(transcoderObj){if(transcoderObj.fromJSON){formattedData=transcoderObj.fromJSON(chartData,chartObj)}else{formattedData={error:new Error("Unable to convert data.")}}}else{formattedData={error:new Error("Data format not recognized.")}}if(!formattedData.error&&chartOptions.error){formattedData.error=chartOptions.error}return advanced?formattedData:formattedData.data};_proto.dataReady=function dataReady(available){return available?this.__state.dataAvailable:this.__state.dataReady};_proto.setChartAttribute=function setChartAttribute(attributesArg,value){var json,prop,attList,temp,ii;var attributes=attributesArg;if(typeof attributes==="string"){temp=arguments[0];attributes={};attributes[temp]=value}else if(attributes===null||typeof attributes!=="object"){return}ii=0;json=this.getChartData(NATIVE_FORMAT);attList=json.chart||json.graph||json.map;if(!attList){attList={};json=Object.assign({chart:attList},json)}for(prop in attributes){ii+=1;if(attributes[prop]===null){delete attList[prop.toLowerCase()];continue}attList[prop.toLowerCase()]=attributes[prop]}if(ii>0){if(typeof attList.animation==="undefined"){attList.animation=_lib.ZEROSTRING}this.setChartData(json,NATIVE_FORMAT)}};_proto.getChartAttribute=function getChartAttribute(attribute){var json=this.getChartData(NATIVE_FORMAT),attList=json&&(json.chart||json.graph||json.map),value,i;if(arguments.length===0||typeof attribute==="undefined"||typeof attList==="undefined"||attribute===null){return attList}if(typeof attribute==="string"){value=attList[attribute.toString().toLowerCase()]}else if(attribute instanceof Array){value={};for(i=0;i<attribute.length;i+=1){value[attribute[i]]=attList[attribute[i].toString().toLowerCase()]}}else{(0,_eventApi.raiseError)(this,"25081429","param","~getChartAttribute()",'Unexpected value of "attribute"')}return value};_proto.render=function render(_containerElement,_insertMode,_callback){var containerElement=_containerElement||UNDEF,insertMode=_insertMode||UNDEF,callback=_callback||UNDEF;if(!this.disposed){this.__state.beforeRenderFired=false;this._addChartDependency("chartContainer",{scopeOf:this,opts:{containerElement:containerElement,insertMode:insertMode,callback:callback},resolve:handleRender});this.__state.renderInvoked=true;this.__state.isDrawInvoked=true}this._setState();return this};_proto._renderChart=function _renderChart(containerElement,chartType,callback,message,style,silent){if(silent===void 0){silent=false}if(this.disposed){return}var that=this,eventArgs,successFn=function successFn(){if(that.disposed===true){return}that._render(containerElement,chartType,callback&&function _renderCallback(){if(callback){try{callback.call(that,that.options.containerElement)}catch(e){setTimeout((function(){throw e}))}}},message,style)};if(!silent&&!this.__state.beforeRenderFired){this.__state.beforeRenderFired=true;(0,_eventApi.triggerEvent)("beforeRender",this,eventArgs={container:that.options.containerElement,width:this.width,height:this.height,renderer:this.options.renderer},UNDEF,successFn,(function(){(0,_eventApi.triggerEvent)("renderCancelled",that,eventArgs);this.__state.renderInvoked=false}))}else{successFn()}return this};_proto._render=function _render(container,chartType,callback,message,msgStyle){var chartObj=this;chartObj.apiInstance&&chartObj.apiInstance.removeJob("resizeScheduled");if(!chartObj.__state.beforedrawFired){(0,_eventApi.triggerEvent)("beforedraw",chartObj,{},UNDEF,(function(){(0,_createChart.default)(FusionCharts,chartObj,container,chartType,callback,message,msgStyle)}),(function(){(0,_eventApi.triggerEvent)("drawCancelled",chartObj);this.__state.isDrawInvoked=false}))}else{(0,_createChart.default)(FusionCharts,chartObj,container,chartType,callback,message,msgStyle);chartObj.__state.beforedrawFired=true}};_proto.resizeTo=function resizeTo(widthArg,heightArg,silentArg){var chart=this,prevW=chart.width,prevH=chart.height,state=chart.__state,silent=silentArg,height=heightArg,width=widthArg,config=chart.apiInstance&&chart.apiInstance.config||{};config.resize=true;if(width!==null&&typeof width==="object"){silent=height;height=width.h;width=width.w}width=width===null||typeof width==="undefined"?prevW:width.toString().replace(LENGTH_CLEANUP_RE,"");height=height===null||typeof height==="undefined"?prevH:height.toString().replace(LENGTH_CLEANUP_RE,"");if(silent!==true){(0,_eventApi.triggerEvent)("beforeresize",chart,{currentWidth:prevW,currentHeight:prevH,newWidth:width,newHeight:height},UNDEF,(function(){chart.width=width;chart.height=height;chart.scheduleResize({width:width,height:height});chart.apiInstance&&chart.apiInstance.addJob("resized"+count++,(function(){(0,_eventApi.triggerEvent)("resized",chart,{id:chart.id,width:chart.width,height:chart.height,prevWidth:prevW,prevHeight:prevH,pixelWidth:chart.ref&&chart.ref.offsetWidth||0,pixelHeight:chart.ref&&chart.ref.offsetHeight||0,originalWidth:state.renderedWidth,originalHeight:state.renderedHeight})}),_schedular.priorityList.postRender)}),(function(){(0,_eventApi.triggerEvent)("resizecancelled",chart,{currentWidth:prevW,currentHeight:prevH,cancelledTargetWidth:width,cancelledTargetHeight:height})}))}return this};_proto.dispose=function dispose(){var chart=this,eventArgs={},onResolve=function onResolve(_scope){_scope._dispose();_scope._addChartDependency("dispose",{resolve:function resolve(){return{state:0}}});_scope._setState();(0,_eventApi.triggerEvent)("disposed",_scope,eventArgs);(0,_eventApi.disposeEvents)(_scope);delete FusionCharts.items[_scope.id];for(var prop in _scope){if(_scope.hasOwnProperty(prop)){delete _scope[prop]}}_scope.disposed=true;return{state:0}};(0,_eventApi.triggerEvent)("beforeDispose",chart,eventArgs,UNDEF,(function(){chart._addChartDependency("dispose",{scopeOf:chart,resolve:onResolve})}),(function(){(0,_eventApi.triggerEvent)("disposeCancelled",chart,eventArgs)}))};_proto._dispose=function _dispose(){var chartObj=this,container,vars=chartObj.jsVars;if(chartObj.apiInstance){chartObj.apiInstance.removeJob("resizeScheduled");chartObj.apiInstance.remove({instant:true});delete chartObj.apiInstance;delete vars.instanceAPI}if(container=window[chartObj.id]){purgeDOM(container);if(container.parentNode){container.parentNode.removeChild(container)}}vars.container=null};_proto._config=function _config(itemsArg,optionalValue){var items=itemsArg;var item,chart=this,vars=chart.jsVars,msgs=vars.msgStore,cfg=vars.cfgStore,options=chart.options,chartMessageOldNewMap;chartMessageOldNewMap={LoadingText:"loadMessage",ChartNotSupported:"typeNotSupportedMessage",RenderChartErrorText:"renderErrorMessage",XMLLoadingText:"dataLoadStartMessage",ChartNoDataText:"dataEmptyMessage",LoadDataErrorText:"dataLoadErrorMessage",InvalidXMLText:"dataInvalidMessage"};if(typeof items==="string"&&arguments.length>1){item=items;items={};items[item]=optionalValue}for(item in items){if(typeof msgs[item]!=="undefined"){msgs[item]=items[item]}else{cfg[item.toLowerCase()]=items[item]}if(chartMessageOldNewMap[item]){options[chartMessageOldNewMap[item]]=items[item]}else{options[item]=items[item]}}};_proto.configure=function configure(option,value){var hash;if(!option){return}else if(typeof option==="string"){hash={};hash[option]=value}else{hash=option}this._config(hash)};_proto.print=function print(options){var chart=this.apiInstance,args=(0,_lib.extend2)({},options);if(chart.config.isPrinting||!chart.config.hasRendered){return false}(0,_eventApi.triggerEvent)("BeforePrint",this,args,UNDEF,(function(){var container=chart.getFromEnv("chart-container"),origDisplay=[],origParent=container.parentNode,body=document.body||document.getElementsByTagName("body")[0],childNodes=body.childNodes,length,lists,list,i,chartMenuBar;chart.config.isPrinting=true;(0,_lib.fcEach)(childNodes,(function(node,ii){if(node.nodeType===1){origDisplay[ii]=node.style.display;node.style.display=NONE}}));if(args.hideButtons!==false){chartMenuBar=chart.getChildren("chartMenuBar");if(chartMenuBar){lists=chartMenuBar[0].getChildren("tool");for(i=0,length=lists.length;i<length;i++){lists[0].getChildren("listContainer")[0].hide()}}}body.appendChild(container);window.print();setTimeout((function(){list&&(list.config.container.style.display="visible");origParent.appendChild(container);(0,_lib.fcEach)(childNodes,(function _forEachChildNode(node,ii){if(node.nodeType===1){node.style.display=origDisplay[ii]}}));if(args.hideButtons!==false){list&&(list.config.container.style.display="visible")}chart.config.isPrinting=false;(0,_eventApi.triggerEvent)("PrintComplete",chart.getFromEnv("chartInstance"),args)}),1e3)}),(function(){(0,_eventApi.triggerEvent)("PrintCancelled",chart.getFromEnv("chartInstance"),args)}))};_proto.getSVGString=function getSVGString(callback,config){var chart=this.apiInstance,keepImages,paper=chart&&chart.getFromEnv("paper"),xmlSerializer;if(config&&config.keepImages){keepImages=true}if(typeof callback==="function"){chart.addJob("getSVG",(function(){callback(paper&&paper.toSVG&&paper.toSVG(keepImages))}),_schedular.priorityList.postRender)}else{xmlSerializer=new XMLSerializer;return xmlSerializer.serializeToString(paper.canvas)}};_proto.lockResize=function lockResize(state){if(typeof state!=="boolean"){return!!this.jsVars.resizeLocked}return this.jsVars.resizeLocked=state};_proto.showChartMessage=function showChartMessage(_text,_modal,_cancelable,_customAttrs){var text=_text||UNDEF,modal=_modal||UNDEF,cancelable=_cancelable||UNDEF,customAttrs=_customAttrs||{},chartInstance=this,chart=chartInstance.apiInstance,showMessageFn=function showMessageFn(){chartInstance._showChartMessage(text,modal,cancelable,customAttrs)};chart&&(chart.getName()==="base"?chartInstance.addEventListener("renderComplete",showMessageFn):showMessageFn());return text};_proto._showChartMessage=function _showChartMessage(textArg,modal,cancelable,customAttrs){if(customAttrs===void 0){customAttrs={}}var chartInstance=this,text=textArg,vars=chartInstance.jsVars,chart=chartInstance.apiInstance,options=chartInstance.options,attrs,_helperFn=function _helperFn(){if(modal&&chart&&chart.config.hasRendered){chart._show&&chart._show();chartInstance.showMessage(text,attrs,cancelable)}else{chart._hide&&chart._hide();chart.setChartMessage(text,{_chartMessageStyle:attrs});chart.drawChartMessage()}};chart._hideChartMessage();if(typeof text==="undefined"){chartInstance.hideChartMessage();return}attrs={fontFamily:(0,_lib.pluck)(customAttrs.font,options.baseChartMessageFont,"Verdana,sans"),fontSize:(0,_lib.pluck)(customAttrs.fontSize,options.baseChartMessageFontSize,10),color:(0,_lib.pluck)(customAttrs.color&&(0,_lib.convertColor)(customAttrs.color,customAttrs.alpha),options.baseChartMessageColor)};if(vars.msgStore[text]){text=vars.msgStore[text]}chart.addJob("showMsg",_helperFn,_schedular.priorityList.postRender)};_proto._resize=function _resize(){var instanceAPI=this.apiInstance,container=this.jsVars.container;this.__state.resize=true;if(instanceAPI){instanceAPI.config.elScroll=false;instanceAPI.getFromEnv("animationManager").setAnimationState("resize");instanceAPI.addToEnv("chartWidth",container.offsetWidth);instanceAPI.addToEnv("chartHeight",container.offsetHeight);if(this.args.dataSource&&(this.args.dataSource.data||this.args.dataSource.dataset)){this._addChartDependency("resize",{resolve:function resolve(){return{state:3}}})}}else{this._addChartDependency("resize",{resolve:function resolve(){return{state:1}}})}this._setState();this.__state.resize=false};_proto.hideChartMessage=function hideChartMessage(){var chart=this.apiInstance;chart._hideChartMessage();chart._show&&chart._show()};_proto.showMessage=function showMessage(msg,attrs,cancelable){if(msg===void 0){msg=""}var chart=this.apiInstance,config=chart.config,messageLayer,messageLayerDummy,paper=chart.getFromEnv("paper"),smartLabel=chart.getFromEnv("smartLabel"),animationManager=chart.getFromEnv("animationManager"),messageText=chart.getGraphicalElement("messageText"),messageVeil=chart.getGraphicalElement("messageVeil"),w=paper.width,h=paper.height,text;messageLayerDummy=chart.getChildContainer("messageGroup");animationManager.setAnimationState("showmessage");messageLayer=animationManager.setAnimation({el:messageLayerDummy||"group",attr:{name:"messageGroup"},component:chart,label:"group"});messageLayer.show().toFront();if(!messageLayerDummy){chart.addChildContainer("messageGroup",messageLayer)}messageVeil=animationManager.setAnimation({el:messageVeil||"rect",attr:{x:0,y:0,width:w,height:h,fill:"rgba(0,0,0,0.2)",stroke:"none"},container:messageLayer,component:chart,label:"rect"});messageVeil.off("fc-click",messageLayer.hide);messageVeil.show().toFront().attr("cursor",cancelable?_lib.POINTER:"default");cancelable&&messageVeil.on("fc-click",chart._hideChartMessage,chart);chart.addGraphicalElement("messageVeil",messageVeil);smartLabel.setStyle(attrs);text=smartLabel.getSmartText(msg,w-(config.marginRight||0)-(config.marginLeft||0),h-(config.marginTop||0)-(config.marginBotton||0));messageText=animationManager.setAnimation({el:messageText||"text",attr:{"font-size":attrs.fontSize,"font-family":attrs.fontFamily,fill:attrs.color,text:text.text,"line-height":14,x:w/2,y:h/2},container:messageLayer,component:chart,label:"text"});messageText.attr("cursor",cancelable?_lib.POINTER:"default")[cancelable?"click":"unclick"](chart._hideChartMessage,chart).show().toFront();chart.addGraphicalElement("messageText",messageText)};_proto.scheduleResize=function scheduleResize(size){var chartObj=this,container=chartObj.ref,cssSize;if(!container){return}chartObj._addChartDependency("resize",{resolve:function resolve(){return{state:2}}});chartObj.apiInstance.addJob("resizeScheduled",(function(){cssSize=(0,_lib.normalizeCSSDimension)(size.width,size.height,container);if(typeof size.width!=="undefined"){container.style.width=cssSize.width}if(size.height!=="undefined"){container.style.height=cssSize.height}chartObj._resize()}),_schedular.priorityList.instant)};return FusionCharts}();FusionCharts.id="FusionCharts";FusionCharts.options={html5ScriptNameSuffix:".js",html5ScriptNamePrefix:"fusioncharts.",export:{useCanvas:false},scriptBaseUri:function(){var baseUri=getScriptBaseUri(SCRIPT_NAME_RE);if(typeof baseUri==="undefined"){(0,_eventApi.raiseError)(FusionCharts,"1603111624","run",">GenericRuntime~scriptBaseUri","Unable to locate FusionCharts script source location (URL).");return""}return baseUri}(),set creditLabel(val){console.warn("FusionCharts.options.creditLabel property is deprecated. Please use FusionCharts.options.license with a valid license key to remove the watermark.")},license:function license(licenseObj){if(licenseObj){_redluom.default.storeObj(FusionCharts,licenseObj)}}};if(typeof __webpack_public_path__!=="undefined")__webpack_public_path__=FusionCharts.getScriptBaseURI();FusionCharts.version=FCS.split(/[\.\-]/g);FusionCharts.versionDetails=[FusionCharts.version,FCS_RELEASE_TS];FusionCharts.items={};(0,_eventApi.setRootSender)(FusionCharts);isReady=false;if(typeof IS_IE8_BUILD!=="undefined"&&IS_IE8_BUILD){if(!_lib.hasSVG){FusionCharts.addDep({name:"vml",type:"dependency",extension:import(
/* webpackChunkName: "fusioncharts.vml" */
"@fusioncharts/core/src/_internal/redraphael/redraphael.vml")})}}readyFusionCharts();FusionCharts.addEventListener("dependencyAdded",(function(e,d){if(d.type==="maps"){var obj={};obj[d.name]=["fusioncharts.maps.js"];if(!FusionCharts.getDep("dependency")){FusionCharts.addDep({name:"dependency",extension:obj})}}}));FusionCharts.addEventListener("initialized",slHandler);FusionCharts.addDep(_fileStore.default);FusionCharts.addDep(_redraphael.default);FusionCharts.addDep(_dummyTooltipController.default);FusionCharts.addDep(_redraphael2.default);FusionCharts.addDep(_jsonTranscoder.default);FusionCharts.addDep(_redraphael3.default);FusionCharts.addDep(_baseChart.default);var _default=FusionCharts;exports.default=_default;