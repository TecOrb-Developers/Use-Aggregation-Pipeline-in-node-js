"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _calendarBin=_interopRequireDefault(require("./calendar-bin"));var _timeIntervals=require("../time-intervals");describe("Aggregation is of YEAR level",(function(){var scale;beforeEach((function(){scale=new _calendarBin.default(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond);scale.setBinRange([0,400]);scale.setBinDomain([1415060201e3,1515060201e3]);scale._threshold=[_timeIntervals.timeYear,1,31536e6]}));afterEach((function(){scale=undefined}));it("Time instant with Year resolution. Duration: NA",(function(){var data={dateRange:{startDate:1515060201e3,endDate:1515060201e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("2018")}));xit("Range of years spanning different years. Duration: 2years",(function(){var data={dateRange:{startDate:1515060201e3,endDate:1515060201e3+31596e6},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("2018 - 2019")}))}));describe("Aggregation is of MONTH level",(function(){var scale;beforeEach((function(){scale=new _calendarBin.default(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond);scale.setBinRange([0,400]);scale.setBinDomain([1415060201e3,1515060201e3])}));afterEach((function(){scale=undefined}));it("Time instant with Month resolution. Duration: NA",(function(){scale._threshold=[_timeIntervals.timeMonth,1,2592e6];var data={dateRange:{startDate:1515060201e3,endDate:1515060202e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("January, 2018")}));it("Range of months spanning different months. Duration: 2months",(function(){scale._threshold=[_timeIntervals.timeMonth,2,2*2592e6];var data={dateRange:{startDate:1515060201e3,endDate:1515060201e3+2*2592e6},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Jan - Mar, 2018")}));it("Range of months spanning different years. Duration: 3months",(function(){scale._threshold=[_timeIntervals.timeMonth,3,3*2592e6];var data={dateRange:{startDate:1546250601e3,endDate:1551261801e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Dec, 2018 - Feb, 2019")}))}));describe("Aggregation is of Day level",(function(){var scale;beforeEach((function(){scale=new _calendarBin.default(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond);scale.setBinRange([0,400]);scale.setBinDomain([1415060201e3,1915060201e3])}));afterEach((function(){scale=undefined}));it("Time instant with Day resolution. Duartion: NA",(function(){scale._threshold=[_timeIntervals.timeDay,1,864e5];var data={dateRange:{startDate:1541930601e3,endDate:1541930601e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("November 11, 2018")}));it("Time instant with Day resolution. Duartion: 4days",(function(){scale._threshold=[_timeIntervals.timeDay,4,4*864e5];var data={dateRange:{startDate:1541844201e3,endDate:1542103401e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("November 10 - 13, 2018")}));it("Range of days spanning different months. Duration: 9days",(function(){scale.setBinDomain([1540807401e3,1915060201e3]);scale._threshold=[_timeIntervals.timeDay,10,10*864e5];var data={dateRange:{startDate:1540807401e3,endDate:1541498601e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Oct 29 - Nov 06, 2018")}));it("Range of days spanning different years. Duration: 14days",(function(){scale.setBinDomain([1514455401e3,1915060201e3]);scale._threshold=[_timeIntervals.timeDay,15,15*864e5];var data={dateRange:{startDate:1514455401e3,endDate:15155424e5},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Dec 28, 2017 - Jan 10, 2018")}))}));describe("Aggregation is of Hour level",(function(){var scale;beforeEach((function(){scale=new _calendarBin.default(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond);scale._type="UTC";scale.setBinRange([0,400]);scale.setBinDomain([1541433801e3,1915060201e3])}));afterEach((function(){scale=undefined}));it("Time instant with Hour resolution. Duration: NA",(function(){scale._threshold=[_timeIntervals.timeHour,1,36e5];var data={dateRange:{startDate:1541433801e3,endDate:1541433801e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04 PM")}));it("Range of Hour spanning different Hour. Duration: 4hours",(function(){scale._threshold=[_timeIntervals.timeHour,4,4*36e5];var data={dateRange:{startDate:1541433801e3,endDate:1541448201e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04 - 08 PM")}));it("Range of Hour spanning different Dates. Duration: 14hours",(function(){scale.setBinDomain([1543525401e3,1915060201e3]);scale._threshold=[_timeIntervals.timeHour,14,14*36e5];var data={dateRange:{startDate:1543525401e3,endDate:1543575801e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 29, 09 PM - Nov 30, 2018, 11 AM")}));it("Range of Hour spanning different months. Duration: 14hours",(function(){scale.setBinDomain([1543611801e3,1915060201e3]);scale._threshold=[_timeIntervals.timeHour,14,14*36e5];var data={dateRange:{startDate:1543611801e3,endDate:1543662201e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 30, 09 PM - Dec 01, 2018, 11 AM")}));it("Range of Hour spanning different years. Duration: 18hours",(function(){scale.setBinDomain([1514743401e3,1915060201e3]);scale._threshold=[_timeIntervals.timeHour,18,18*36e5];var data={dateRange:{startDate:1514743401e3,endDate:1514808201e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Dec 31, 2017, 06 PM - Jan 01, 2018, 12 PM")}))}));describe("Aggregation is of Minute level",(function(){var scale;beforeEach((function(){scale=new _calendarBin.default(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond);scale._type="UTC";scale.setBinRange([0,400]);scale.setBinDomain([1541435061e3,1915060201e3])}));afterEach((function(){scale=undefined}));it("Time instant with second resolution. Duration: NA",(function(){scale._threshold=[_timeIntervals.timeMinute,1,6e4];var data={dateRange:{startDate:1541435061e3,endDate:1541435061e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04:24 PM")}));it("Range of min spanning different min. Duration: 10min",(function(){scale._threshold=[_timeIntervals.timeMinute,10,10*6e4];var data={dateRange:{startDate:1541435061e3,endDate:1541435061e3+10*6e4},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04:24 - 04:34 PM")}));it("Range of min spanning different Hour. Duration: 31min",(function(){scale._threshold=[_timeIntervals.timeMinute,31,31*6e4];var data={dateRange:{startDate:1541435061e3+10*6e4,endDate:1541435061e3+41*6e4},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04:34 - 05:05 PM")}));it("Range of min spanning different Date. Duration: 40min",(function(){scale._threshold=[_timeIntervals.timeMinute,40,40*6e4];var data={dateRange:{startDate:1541460261e3,endDate:1541462661e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 11:24 PM - Nov 06, 2018, 12:04 AM")}));it("Range of min spanning different month. Duration: 40min",(function(){scale._threshold=[_timeIntervals.timeMinute,40,40*6e4];var data={dateRange:{startDate:1543620261e3,endDate:1543622661e3},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 30, 11:24 PM - Dec 01, 2018, 12:04 AM")}));it("Range of min spanning different year. Duration: 40min",(function(){scale._threshold=[_timeIntervals.timeMinute,40,40*6e4];var data={dateRange:{startDate:1546298661e3,endDate:1546298661e3+40*6e4},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Dec 31, 2018, 11:24 PM - Jan 01, 2019, 12:04 AM")}))}));describe("Aggregation is of Seconds level",(function(){var scale;beforeEach((function(){scale=new _calendarBin.default(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond);scale._type="UTC";scale.setBinRange([0,400]);scale.setBinDomain([154143513e4,1915060201e3])}));afterEach((function(){scale=undefined}));it("Time instant with second resolution. Duration: NA",(function(){scale._threshold=[_timeIntervals.timeSecond,1,1e3];var data={dateRange:{startDate:154143513e4,endDate:154143513e4},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04:25:30 PM")}));it("Range of seconds spanning different seconds. Duration: 5sec",(function(){scale._threshold=[_timeIntervals.timeSecond,5,5*1e3];var data={dateRange:{startDate:154143513e4,endDate:154143513e4+1e3*5},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04:25:30 - 04:25:35 PM")}));it("Range of seconds spanning different minutes. Duration: 6sec",(function(){scale._threshold=[_timeIntervals.timeSecond,6,6*1e3];var data={dateRange:{startDate:1541435155e3,endDate:1541435155e3+1e3*6},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 04:25:55 - 04:26:01 PM")}));it("Range of seconds spanning different hours. Duration: 6sec",(function(){scale._threshold=[_timeIntervals.timeSecond,6,6*1e3];var data={dateRange:{startDate:1541458795e3,endDate:1541458795e3+1e3*6},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 2018, 10:59:55 - 11:00:01 PM")}));it("Range of seconds spanning different days. Duration: 6sec",(function(){scale._threshold=[_timeIntervals.timeSecond,6,6*1e3];var data={dateRange:{startDate:1541462395e3,endDate:1541462395e3+1e3*6},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 05, 11:59:55 PM - Nov 06, 2018, 12:00:01 AM")}));it("Range of seconds spanning different months. Duration: 6sec",(function(){scale._threshold=[_timeIntervals.timeSecond,6,6*1e3];var data={dateRange:{startDate:1543622395e3,endDate:1543622395e3+1e3*6},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 30, 11:59:55 PM - Dec 01, 2018, 12:00:01 AM")}));it("Range of seconds spanning different years. Duration: 6sec",(function(){scale._threshold=[_timeIntervals.timeSecond,6,6*1e3];var data={dateRange:{startDate:1546300795e3,endDate:1546300795e3+1e3*6},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Dec 31, 2018, 11:59:55 PM - Jan 01, 2019, 12:00:01 AM")}))}));describe("Aggregation is of Milliseconds",(function(){var scale;beforeEach((function(){scale=new _calendarBin.default(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond);scale._type="UTC";scale.setBinRange([0,400]);scale.setBinDomain([1543508952e3,1915060201e3])}));afterEach((function(){scale=undefined}));it("Time instant with millisecond resolution. Duration: NA",(function(){scale._threshold=[_timeIntervals.timeMillisecond,1,1];var data={dateRange:{startDate:1543508952e3+75,endDate:1543508952e3+75},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 29, 2018, 04:29:12.075 PM")}));it("Range of miliseconds spanning different milliseconds. Duration: 4ms",(function(){scale._threshold=[_timeIntervals.timeMillisecond,4,4];var data={dateRange:{startDate:1543508952e3+75,endDate:1543508952e3+79},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 29, 2018, 04:29:12.075 - 04:29:12.079 PM")}));it("Range of miliseconds spanning different seconds. Duration: 4ms",(function(){scale._threshold=[_timeIntervals.timeMillisecond,4,4];var data={dateRange:{startDate:1543508952e3+997,endDate:1543508952e3+1001},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 29, 2018, 04:29:12.997 - 04:29:13.001 PM")}));it("Range of miliseconds spanning different minutes. Duration: 4ms",(function(){scale._threshold=[_timeIntervals.timeMillisecond,4,4];var data={dateRange:{startDate:1543508999e3+997,endDate:1543508999e3+1001},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 29, 2018, 04:29:59.997 - 04:30:00.001 PM")}));it("Range of miliseconds spanning different hours. Duration: 4ms",(function(){scale._threshold=[_timeIntervals.timeMillisecond,4,4];var data={dateRange:{startDate:1543510799e3+997,endDate:1543510799e3+1001},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 29, 2018, 04:59:59.997 - 05:00:00.001 PM")}));it("Range of miliseconds spanning different days. Duration: 4ms",(function(){scale._threshold=[_timeIntervals.timeMillisecond,4,4];var data={dateRange:{startDate:1543535999e3+997,endDate:1543535999e3+1001},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 29, 11:59:59.997 PM - Nov 30, 2018, 12:00:00.001 AM")}));it("Range of miliseconds spanning different months. Duration: 4ms",(function(){scale._threshold=[_timeIntervals.timeMillisecond,4,4];var data={dateRange:{startDate:1543622399e3+997,endDate:1543622399e3+1001},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Nov 30, 11:59:59.997 PM - Dec 01, 2018, 12:00:00.001 AM")}));it("Range of miliseconds spanning different years. Duration: 4ms",(function(){scale._threshold=[_timeIntervals.timeMillisecond,4,4];var data={dateRange:{startDate:1546300799e3+997,endDate:1546300799e3+1001},type:"tooltip"};expect(scale.getFormattedTime(data)).toBe("Dec 31, 2018, 11:59:59.997 PM - Jan 01, 2019, 12:00:00.001 AM")}))}));