"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _timeIntervals=require("../time-intervals");var _calendarBin=_interopRequireWildcard(require("./calendar-bin"));var _time=require("../defaults/time");function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}var ScaleTimeBin=function(_ScaleCalendarBin){(0,_inheritsLoose2.default)(ScaleTimeBin,_ScaleCalendarBin);function ScaleTimeBin(){var _this;_this=_ScaleCalendarBin.call(this,_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond)||this;_this.setTimeFormat();_this.setDomain([].concat(_time.TIME_SPAN));return _this}var _proto=ScaleTimeBin.prototype;_proto.getType=function getType(){return""};_proto.setTimeFormat=function setTimeFormat(format){if(format===void 0){format={}}var localeConverter=this._localeConverter,_format=format,millisecond=_format.millisecond,second=_format.second,minute=_format.minute,hour=_format.hour,day=_format.day,week=_format.week,month=_format.month,year=_format.year;this.formatters={millisecond:{major:localeConverter.formatter(millisecond||"%I:%M:%S.%L %p"),minor:localeConverter.formatter(millisecond||"%L ms"),context:localeConverter.formatter(millisecond||"%b %d, %Y, %I:%M:%S.%L %p")},second:{major:localeConverter.formatter(second||"%I:%M:%S %p"),minor:localeConverter.formatter(second||"%S s"),context:localeConverter.formatter(second||"%b %d, %Y, %I:%M:%S %p")},minute:{major:localeConverter.formatter(minute||"%I:%M %p"),minor:localeConverter.formatter(minute||"%M m"),context:localeConverter.formatter(minute||"%b %d, %Y, %I:%M %p")},hour:{major:localeConverter.formatter(hour||"%I %p"),minor:localeConverter.formatter(hour||"%I %p"),context:localeConverter.formatter(hour||"%b %d, %Y, %I %p")},day:{major:localeConverter.formatter(day||"%b %d"),minor:localeConverter.formatter(day||"%d"),context:localeConverter.formatter(day||"%b %d, %Y")},week:{major:localeConverter.formatter(week||"%b %d"),minor:localeConverter.formatter(week||"%d"),context:localeConverter.formatter(week||"%b %d, %Y")},month:{major:localeConverter.formatter(month||"%b"),minor:localeConverter.formatter(month||"%b"),context:localeConverter.formatter(month||"%b %Y")},year:{major:localeConverter.formatter(year||"%Y"),minor:localeConverter.formatter(year||"%Y"),context:localeConverter.formatter(year||"%Y")}}};_proto.setTimeInterval=function setTimeInterval(timeIntervals){this.timeIntervals=timeIntervals;_ScaleCalendarBin.prototype.setTimeInterval.call(this,timeIntervals)};_proto.setUnclippedTimeIntervals=function setUnclippedTimeIntervals(unclippedTimeIntervals){this.unclippedTimeIntervals=unclippedTimeIntervals;_ScaleCalendarBin.prototype.setUnclippedTimeIntervals.call(this,unclippedTimeIntervals)};_proto.getTimeInterval=function getTimeInterval(){return this.timeIntervals};_proto.getUnclippedTimeIntervals=function getUnclippedTimeIntervals(){return this.unclippedTimeIntervals};_proto.tickFormat=function tickFormat(specifier){var _this2=this;return specifier?function(d){return _this2._localeConverter.formatter(specifier).format(d)}:function(d,type,tickType){if(_this2._timeFormat[type]){return _this2._localeConverter.formatter(_this2._timeFormat[type]).format(d)}return _this2.formatters[type][tickType].format(d)}};_proto.copy=function copy(){return(0,_calendarBin.copyScaleBin)(this,new ScaleTimeBin)};return ScaleTimeBin}(_calendarBin.default);var _default=ScaleTimeBin;exports.default=_default;