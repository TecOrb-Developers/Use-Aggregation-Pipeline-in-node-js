"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.utcWeekObj=exports.utcSaturday=exports.utcFriday=exports.utcThursday=exports.utcWednesday=exports.utcTuesday=exports.utcMonday=exports.utcSunday=exports.default=void 0;var _timeInterval=_interopRequireDefault(require("../time-interval.js"));var _durations=require("../durations.js");var _timeIntervalclip=require("../time-intervalclip");var utcWeekObj={name:"week",floor:function floor(d,clippedDates,timeUniverse){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-0)%7);return new Date(Number((0,_timeIntervalclip.getFloor)(new Date(Number(d.setUTCHours(0,0,0,0))),clippedDates,timeUniverse)))},offset:function offset(d,s,clippedDates,timeUniverse){var isPositiveOffset=s>0,dateObj={date:new Date(Number(d))},cloneDate=new Date(Number(dateObj.date));return new Date(Number(isPositiveOffset?(0,_timeIntervalclip.clampDownDateWithinClip)(dateObj.date,new Date(Number(cloneDate.setUTCDate(cloneDate.getUTCDate()+s*7))),clippedDates,timeUniverse):(0,_timeIntervalclip.clampUpDateWithinClip)(dateObj.date,new Date(Number(cloneDate.setUTCDate(cloneDate.getUTCDate()+s*7))),clippedDates,timeUniverse)))},count:function count(s,e,clippedDates){var clipArray=(0,_timeIntervalclip.getValidDatesWithin)(clippedDates,s,e),clipDuration=0,clipDates=(0,_timeIntervalclip.getClampRangesAround)(clippedDates,e);clipArray=(0,_timeIntervalclip.getClipArray)(clipDates,clipArray);clipArray.forEach((function(date){clipDuration+=Number(date.to)-Number(date.from)}));return e-s-Math.floor(clipDuration/_durations.durationWeek)}},utcWeekday=function utcWeekday(i,n){return new _timeInterval.default({name:n,floor:function floor(d,clippedDates,timeUniverse){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-i)%7);return new Date(Number((0,_timeIntervalclip.getFloor)(new Date(Number(d.setUTCHours(0,0,0,0))),clippedDates,timeUniverse)))},offset:function offset(d,s,clippedDates,timeUniverse){var isPositiveOffset=s>0,dateObj={date:new Date(Number(d))},cloneDate=new Date(Number(dateObj.date));return new Date(Number(isPositiveOffset?(0,_timeIntervalclip.clampDownDateWithinClip)(dateObj.date,new Date(Number(cloneDate.setUTCDate(cloneDate.getUTCDate()+s*7))),clippedDates,timeUniverse):(0,_timeIntervalclip.clampUpDateWithinClip)(dateObj.date,new Date(Number(cloneDate.setUTCDate(cloneDate.getUTCDate()+s*7))),clippedDates,timeUniverse)))},count:function count(s,e,clippedDates){var clipArray=(0,_timeIntervalclip.getValidDatesWithin)(clippedDates,s,e),clipDuration=0,clipDates=(0,_timeIntervalclip.getClampRangesAround)(clippedDates,e);clipArray=(0,_timeIntervalclip.getClipArray)(clipDates,clipArray);clipArray.forEach((function(date){clipDuration+=Number(date.to)-Number(date.from)}));return e-s-Math.floor(clipDuration/_durations.durationWeek)}})},utcWeek=utcWeekday(0,"week"),utcSunday=utcWeekday(0,"sunday"),utcMonday=utcWeekday(1,"monday"),utcTuesday=utcWeekday(2,"tuesday"),utcWednesday=utcWeekday(3,"wednesday"),utcThursday=utcWeekday(4,"thursday"),utcFriday=utcWeekday(5,"friday"),utcSaturday=utcWeekday(6,"saturday");exports.utcSaturday=utcSaturday;exports.utcFriday=utcFriday;exports.utcThursday=utcThursday;exports.utcWednesday=utcWednesday;exports.utcTuesday=utcTuesday;exports.utcMonday=utcMonday;exports.utcSunday=utcSunday;exports.utcWeekObj=utcWeekObj;var _default=utcWeek;exports.default=_default;