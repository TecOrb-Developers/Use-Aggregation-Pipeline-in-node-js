"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _tool=_interopRequireDefault(require("./tool"));var _lib=require("../../lib");var NORMAL="normal",DEFAULT_FONT_SIZE=10,DEFAULT_FONT="Verdana, sans",DEFAULT_INPUT_VALIDATOR=function DEFAULT_INPUT_VALIDATOR(){return true};var InputBox=function(_Tool){(0,_inheritsLoose2.default)(InputBox,_Tool);function InputBox(){return _Tool.apply(this,arguments)||this}var _proto=InputBox.prototype;_proto.__setDefaultConfig=function __setDefaultConfig(){_Tool.prototype.__setDefaultConfig.call(this);var toolConfig=this.config;toolConfig.isTruncated=false;toolConfig.isHidden=false;toolConfig.validator=DEFAULT_INPUT_VALIDATOR;toolConfig.font=DEFAULT_FONT};_proto.configureAttributes=function configureAttributes(options){if(options===void 0){options={}}_Tool.prototype.configureAttributes.call(this,options);var tool=this,toolConfig=tool.config;toolConfig.isTruncated=(0,_lib.pluck)(options.isTruncated,toolConfig.isTruncated);toolConfig.isHidden=(0,_lib.pluck)(options.isHidden,toolConfig.isHidden);toolConfig.validator=(0,_lib.pluck)(options.validator,toolConfig.validator);toolConfig.font=(0,_lib.pluck)(options.font,tool.getFromEnv("chart-attrib").basefont,toolConfig.font);toolConfig.fontSize=(0,_lib.pluckFontSize)(options["font-size"],options.fontSize,DEFAULT_FONT_SIZE)*toolConfig.scale;toolConfig.fontStyle=(0,_lib.pluck)(options["font-style"],options.fontStyle,NORMAL);toolConfig.fontWeight=(0,_lib.pluck)(options["font-weight"],options.fontWeight,NORMAL)};_proto.getLogicalSpace=function getLogicalSpace(){var tool=this,toolConfig=tool.config,dim,width=toolConfig.width,height=toolConfig.height,marginTop=toolConfig.marginTop,marginLeft=toolConfig.marginLeft,marginRight=toolConfig.marginRight,marginBottom=toolConfig.marginBottom;if(!toolConfig.isTruncated){dim=tool.getFromEnv("smartLabel").getOriSize(tool.config.text,false);width=dim.width>width?dim.width:width;height=dim.height>height?dim.height:height}return{width:width,height:height,marginTop:marginTop,marginLeft:marginLeft,marginRight:marginRight,marginBottom:marginBottom}};_proto.draw=function draw(){var tool=this,toolConfig=tool.config,css={"font-family":toolConfig.font,"font-size":toolConfig.fontSize+"px","font-style":toolConfig.fontStyle,"font-weight":toolConfig.fontWeight,fill:toolConfig.labelFill,position:"absolute",background:"transparent","text-align":"center","margin-left":0,"margin-right":0,"margin-top":0,"margin-bottom":0,borderRadius:0,display:"block",border:"1px solid #cccccc",outline:"none",left:toolConfig.x+"px",top:toolConfig.y+"px",height:toolConfig.height+"px",width:toolConfig.width+"px"};!toolConfig.isHidden&&tool.addGraphicalElement({el:"html",attr:{type:"input",value:toolConfig.text},css:css,component:tool,label:"input-text",id:"input-text"})};return InputBox}(_tool.default);var _default=InputBox;exports.default=_default;