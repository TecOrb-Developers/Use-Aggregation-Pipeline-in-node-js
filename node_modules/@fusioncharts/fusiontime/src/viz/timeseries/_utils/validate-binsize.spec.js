"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _validateBinsize=_interopRequireDefault(require("./validate-binsize"));var _datetimeEnums=require("../../../../../fc-utils/src/datetime-enums");var _timeIntervals=require("../../../../../fc-utils/src/time-intervals");var _standardBins=require("../../../../../fc-utils/src/bin-decider/standard-bins");var _binDecider=require("../../../../../fc-utils/src/bin-decider");var bins=(0,_standardBins.getDefaultBins)(_timeIntervals.timeYear,_timeIntervals.timeMonth,_timeIntervals.timeWeek,_timeIntervals.timeDay,_timeIntervals.timeHour,_timeIntervals.timeMinute,_timeIntervals.timeSecond,_timeIntervals.timeMillisecond),intervalIndexMap=(0,_binDecider._calculateIndexOfIntervals)(bins);describe("test validate bin size function",(function(){it("6 ms duration will return {unit: ms, multiplier: 5}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],6)).toEqual({unit:_datetimeEnums.DatetimeUnits.Millisecond,multiplier:10})}));it("100 ms duration will return {unit: ms, multiplier: 100}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],100)).toEqual({unit:_datetimeEnums.DatetimeUnits.Millisecond,multiplier:100})}));it("749 ms duration will return {unit: ms, multiplier: 500}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],749)).toEqual({unit:_datetimeEnums.DatetimeUnits.Second,multiplier:1})}));it("750 ms duration will return {unit: second, multiplier: 1}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],750)).toEqual({unit:_datetimeEnums.DatetimeUnits.Second,multiplier:1})}));it("1100 ms duration will return {unit: second, multiplier: 1}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],1100)).toEqual({unit:_datetimeEnums.DatetimeUnits.Second,multiplier:2})}));it("15500 ms duration will return {unit: second, multiplier: 1}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],15500)).toEqual({unit:_datetimeEnums.DatetimeUnits.Second,multiplier:20})}));it("1850000 ms duration will return {unit: minute, multiplier: 31}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],185e4)).toEqual({unit:_datetimeEnums.DatetimeUnits.Minute,multiplier:31})}));it("18500000 ms duration will return {unit: minute, multiplier: 308}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Minute],185e5)).toEqual({unit:_datetimeEnums.DatetimeUnits.Minute,multiplier:308})}));it("18500000 ms duration will return {unit: hour, multiplier: 6}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Hour],185e5)).toEqual({unit:_datetimeEnums.DatetimeUnits.Hour,multiplier:6})}));it("2332800000 ms duration will return {unit: month, multiplier: 1}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Month],23328e5)).toEqual({unit:_datetimeEnums.DatetimeUnits.Month,multiplier:1})}));it("325576e+5 ms duration will return {unit: year, multiplier: 5}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Millisecond,_datetimeEnums.DatetimeUnits.Second,_datetimeEnums.DatetimeUnits.Year],325576e5*5)).toEqual({unit:_datetimeEnums.DatetimeUnits.Year,multiplier:5})}));it("2419200000 duration will return {unit: month, multiplier: 1}",(function(){expect((0,_validateBinsize.default)(bins,intervalIndexMap,[_datetimeEnums.DatetimeUnits.Month,_datetimeEnums.DatetimeUnits.Year],24192e5)).toEqual({unit:_datetimeEnums.DatetimeUnits.Month,multiplier:1})}))}));