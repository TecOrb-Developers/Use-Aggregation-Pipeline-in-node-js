"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=void 0;var _lib=require("@fusioncharts/core/src/lib");var _sunburst=_interopRequireDefault(require("../dataset/sunburst"));var depthFirstVisit=function depthFirstVisit(arr){var sumOfVisit=0;arr.forEach((function(c){var givenValue=c.value?+c.value:0,applicableValue=c.category.length>0?depthFirstVisit(c.category):givenValue;if(applicableValue>givenValue){c.value=applicableValue}else{c.value=givenValue;applicableValue=givenValue}sumOfVisit+=applicableValue}));return sumOfVisit};var _default=function _default(chart){var categories=chart.getFromEnv("parsedDataSource")||[],length;categories.forEach((function depthFirstVisitRunner(e){var sum=depthFirstVisit(e.category);!e.value&&(e.value=0);if(sum>+e.value){e.value=sum}}));chart.config.categories=categories;length=categories.length;if(!length){chart.setChartMessage();return}(0,_lib.datasetFactory)(chart,_sunburst.default,"dataset",length,[{inputTree:categories}])};exports.default=_default;