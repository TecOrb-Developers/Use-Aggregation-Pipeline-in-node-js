"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _line=_interopRequireDefault(require("@fusioncharts/charts/src/dataset/line"));var _lib=require("@fusioncharts/core/src/lib");var _dependencyManager=require("@fusioncharts/core/src/dependency-manager");var _index=_interopRequireDefault(require("./index.animation"));var POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_MIDDLE="middle",POSITION_RIGHT="right",ROUND="round",UNDEF,EVENTARGS="eventArgs",SETROLLOVERATTR="setRolloverAttr",SETROLLOUTATTR="setRolloutAttr",defined=function defined(obj){return obj!==UNDEF&&obj!==null},M="M",H="H",V="V",GUTTER_4=4,GUTTER_2=2,CENTER="center",HTP=_lib.hasTouch?_lib.TOUCH_THRESHOLD_PIXELS:_lib.CLICK_THRESHOLD_PIXELS,NONE="none";(0,_dependencyManager.addDep)({name:"kagiAnimation",type:"animationRule",extension:_index.default});var KagiDataset=function(_LineDataset){(0,_inheritsLoose2.default)(KagiDataset,_LineDataset);function KagiDataset(){var _this;_this=_LineDataset.call(this)||this;_this.manageSpace=_lib.stubFN;_this.drawCommonElements=_lib.stubFN;return _this}var _proto=KagiDataset.prototype;_proto.getType=function getType(){return"dataset"};_proto.getName=function getName(){return"kagi"};_proto._parseShadowOptions=function _parseShadowOptions(){var dataSet=this,chartAttr=dataSet.getFromEnv("chart").getFromEnv("dataSource").chart;return{opacity:(0,_lib.pluckNumber)(chartAttr.showshadow,1)?dataSet.config.alpha/100:0}};_proto.configureAttributes=function configureAttributes(datasetJSON){_LineDataset.prototype.configureAttributes.call(this,datasetJSON);var dataSetComponents,datasetObj=this,removeDataArr,chart=datasetObj.getFromEnv("chart"),temp=0,data,catArr=[],series,JSONData,FCChartObj,isRallyInitialised,shiftCounter,reversalValue,reversalPercentage,rallyDashLen,rallyDashGap,declineDashLen,declineDashGap,lastPlotValue,setShowLabel,length,index,fcIndex,fcDataObj,lastShift,prevDataObj,plotValue,dataObj,nextDataValue,valueDifference,dataValue,isRally,lastLow,lastHigh,isMovingUp,isShift,checkValue,t,count=0,vAlign,align;dataSetComponents=datasetObj.components;data=dataSetComponents.data;series=datasetObj.config;JSONData=datasetObj.config.JSONData.data;FCChartObj=chart.getFromEnv("dataSource").chart;removeDataArr=dataSetComponents.removeDataArr||(dataSetComponents.removeDataArr=[]);isRallyInitialised=false;shiftCounter=0;reversalValue=(0,_lib.pluckNumber)(FCChartObj.reversalvalue,-1);reversalPercentage=(0,_lib.pluckNumber)(FCChartObj.reversalpercentage,5);for(index=0;index<data.length;index+=1){data[index].config.__nullCount=count;if(data[index].config.setValue===null){removeDataArr.push(data.splice(index,1)[0]);count++;index-=1}}if(data.length){series.rallyColor=(0,_lib.pluck)(FCChartObj.rallycolor,"FF0000");series.rallyAlpha=(0,_lib.pluckNumber)(FCChartObj.rallyalpha,FCChartObj.linealpha,100);series.declineColor=(0,_lib.pluck)(FCChartObj.declinecolor,"0000FF");series.declineAlpha=(0,_lib.pluckNumber)(FCChartObj.declinealpha,FCChartObj.linealpha,100);series.canvasPadding=(0,_lib.pluckNumber)(FCChartObj.canvaspadding,15);series.maxHShiftPercent=(0,_lib.pluckNumber)(FCChartObj.maxhshiftpercent,10);series.rallyThickness=(0,_lib.pluckNumber)(FCChartObj.rallythickness,FCChartObj.linethickness,2);rallyDashLen=(0,_lib.pluckNumber)(FCChartObj.rallydashlen,FCChartObj.linedashlen,5);rallyDashGap=(0,_lib.pluckNumber)(FCChartObj.rallydashgap,FCChartObj.linedashgap,4);series.declineThickness=(0,_lib.pluckNumber)(FCChartObj.declinethickness,FCChartObj.linethickness,2);declineDashLen=(0,_lib.pluckNumber)(FCChartObj.declinedashlen,FCChartObj.linedashlen,5);declineDashGap=(0,_lib.pluckNumber)(FCChartObj.declinedashgap,FCChartObj.linedashgap,4);series.lineDashed={true:(0,_lib.pluckNumber)(FCChartObj.rallydashed,FCChartObj.linedashed,0),false:(0,_lib.pluckNumber)(FCChartObj.declinedashed,FCChartObj.linedashed,0)};series.rallyDashed=(0,_lib.pluckNumber)(FCChartObj.rallydashed,FCChartObj.linedashed,0)?(0,_lib.getDashStyle)(rallyDashLen,rallyDashGap):NONE;series.declineDashed=(0,_lib.pluckNumber)(FCChartObj.declinedashed,FCChartObj.linedashed,0)?(0,_lib.getDashStyle)(declineDashLen,declineDashGap):NONE;series.canvasPadding=(0,_lib.pluckNumber)(FCChartObj.canvaspadding,this.canvasPadding,15);reversalValue=reversalValue>0?reversalValue:reversalPercentage*(series.maxValue-series.minValue)/100;lastPlotValue=data[0].config.setValue;setShowLabel=function setShowLabel(id,_isRally){var dataXValue,r=1,data1Value=data[0].config.setValue;while(r<id){dataXValue=data[r].config.setValue;if(_isRally){if(dataXValue<=data1Value){data[r].config.isDefined=false}}else{if(dataXValue>=data1Value){data[r].config.isDefined=false}}r+=1}data[0].config.vAlign=_isRally?POSITION_BOTTOM:POSITION_TOP;data[0].config.align=CENTER};length=JSONData.length;for(index=0,fcIndex=0;fcIndex<length;fcIndex+=1,index+=1){fcDataObj=JSONData[fcIndex];if(fcDataObj&&fcDataObj.vline){continue}dataObj=data[index]&&data[index].config;if(lastShift){lastShift=false}dataObj&&(dataObj.isDefined=true);if(index&&dataObj){dataObj.isShift=UNDEF;prevDataObj=data[index-1].config;dataObj.vAlign=POSITION_MIDDLE;dataObj.align=POSITION_RIGHT;dataObj.showLabel=false;plotValue=null;dataValue=dataObj.setValue;nextDataValue=data[index+1]&&data[index+1].config.setValue;valueDifference=Math.abs(lastPlotValue-dataValue);if(!isRallyInitialised){if(dataValue>lastPlotValue&&valueDifference>reversalValue){isRally=true;lastLow=lastPlotValue;lastHigh=null;isMovingUp=true;isRallyInitialised=true;setShowLabel(index,isRally)}else if(dataValue<lastPlotValue&&valueDifference>reversalValue){isRally=false;lastLow=null;lastHigh=lastPlotValue;isMovingUp=false;isRallyInitialised=true;setShowLabel(index,isRally)}else{isRally=null;isMovingUp=null;isRallyInitialised=false}if(defined(prevDataObj)){prevDataObj.isRally=isRally}if(isRally!==null){data[0].config.isRally=isRally}}else{if(dataValue<lastLow&&isRally){isRally=false}else if(dataValue>lastHigh&&!isRally){isRally=true}}dataObj.isRally=isRally;if(isMovingUp&&dataValue<lastPlotValue||!isMovingUp&&dataValue>lastPlotValue){plotValue=lastPlotValue}checkValue=plotValue||dataValue;valueDifference=Math.abs(checkValue-nextDataValue);if(isMovingUp===null){isShift=null}else if(isMovingUp){isShift=checkValue>nextDataValue&&valueDifference>=reversalValue}else{isShift=checkValue<nextDataValue&&valueDifference>=reversalValue}if(prevDataObj&&prevDataObj.isShift){if(isMovingUp){lastLow=lastPlotValue;vAlign=POSITION_BOTTOM}else if(!isMovingUp){lastHigh=lastPlotValue;vAlign=POSITION_TOP}align=CENTER;for(t=index;t>1;t-=1){if(data[t].y===lastPlotValue){data[t].vAlign=vAlign;data[t].align=align;data[t].showLabel=true;break}}}if(isShift){shiftCounter+=1;lastShift=true;isMovingUp=!isMovingUp;dataObj.isShift=true;lastPlotValue=checkValue;catArr.push(JSONData[index+dataObj.__nullCount]);temp=datasetObj._appendCategory(temp,index,catArr,0)}else if(isMovingUp&&dataValue>lastPlotValue||!isMovingUp&&dataValue<lastPlotValue){lastPlotValue=dataValue}else{plotValue=lastPlotValue}dataObj.plotValue=plotValue;dataObj.objParams={isRally:isRally,lastHigh:lastHigh,lastLow:lastLow,isRallyInitialised:isRallyInitialised}}}datasetObj._appendCategory(temp,index,catArr,1);catArr.push(fcDataObj);datasetObj.getFromEnv("xAxis").setTickValues(catArr);series.shiftCount=shiftCounter+1}};_proto._appendCategory=function _appendCategory(tempData,index,catArr,lineposition){var i,catObj,temp=tempData,catData,refIndex,catOnlyData=this.config.JSONData.catData;if(temp<catOnlyData.length){for(i=temp;i<catOnlyData.length;i+=1,temp=i){catObj=catOnlyData[i];catData=catObj.data;refIndex=catObj.index-(i+1);if(refIndex<index){catData.lineposition=(0,_lib.pluckNumber)(catData.lineposition,lineposition)}else if(refIndex>index){break}catArr.push(catData)}}return temp};_proto._getHoveredPlot=function _getHoveredPlot(chartXVal,chartYVal){var dataset=this,chartX=chartXVal,chartY=chartYVal,xAxis=dataset.getFromEnv("xAxis"),conf=dataset.config,trackIndex=conf.trackIndex,dataStore=dataset.components.data,len=dataStore.length,i,j,index,returnValue,xMin,xMax,pointObjs;chartX+=xAxis.getTranslation();xMin=Math.floor(Math.max(xAxis.getValue(chartX-conf.maxRadius),0));xMax=Math.ceil(Math.min(xAxis.getValue(chartX+conf.maxRadius),len-1));for(j=xMax;j>=xMin;j--){pointObjs=trackIndex[j];len=pointObjs&&pointObjs.length;for(i=len;i>=0;i--){index=pointObjs[i];returnValue=dataset.isWithinShape(dataStore[index],index,chartX,chartY);if(returnValue){return returnValue}}}};_proto.getClip=function getClip(type){var canvasConfig=this.getFromEnv("chart").getChildren("canvas")[0].config,clipRect=[canvasConfig.canvasLeft,canvasConfig.canvasTop,0,canvasConfig.canvasTop+canvasConfig.canvasHeight];clipRect[2]+=type==="init"?0:canvasConfig.canvasLeft+canvasConfig.canvasWidth;return clipRect};_proto.parsePlotAttributes=function parsePlotAttributes(pointData,index){var i=index,point=pointData,trackerConfig,dataSet=this,xPos,yPos,eventArgs,dataObj,setRolloutAttr,setRolloverAttr,anchorRadius,hoverEffects,anchorProps={},symbol,config,visible=dataSet.getState("visible"),attr;point=point.config;dataObj=dataSet.components.data[i];config=dataObj.config;trackerConfig=point.trackerConfig={};hoverEffects=config.hoverEffects;xPos=dataObj._xPos=dataSet.getFromEnv("xAxis").getPixel(point.plotX);yPos=dataObj._yPos=point.plotY;dataObj._index=point.plotX;anchorProps=config.anchorProps;symbol=anchorProps.symbol;point.finalTooltext=point.toolText;if(yPos!==UNDEF&&!isNaN(yPos)&&point.isDefined){eventArgs=point.eventArgs=point.eventArgs||{};Object.assign(eventArgs,{index:i,link:config.setLink,value:config.setValue,displayValue:config.displayValue,categoryLabel:config.label,toolText:point.finalTooltext,id:dataSet.config.userID,datasetIndex:0,datasetName:dataSet.config.JSONData.seriesname,visible:visible,color:config.color,alpha:config.alpha,anchorBgColor:anchorProps.bgColor,anchorBgAlpha:anchorProps.anchorBgAlpha,anchorAlpha:anchorProps.anchorAlpha,anchorBorderColor:anchorProps.borderColor,anchorBorderThickness:anchorProps.borderThickness,anchorRadius:anchorProps.radius,anchorSides:anchorProps.sides,anchorStartAngle:anchorProps.startAngle,anchorHoverColor:hoverEffects.anchorColor,anchorHoverAlpha:hoverEffects.anchorAlpha,anchorHoverSides:hoverEffects.anchorSides,dashed:config.dashed,valuePosition:config.valuePosition});setRolloutAttr=setRolloverAttr={};if(anchorProps.imageUrl){config.anchorImageLoaded=false}attr={path:(0,_lib.polyPathToPath)([symbol[1]||2,xPos,yPos,anchorProps.radius,anchorProps.startAngle,0]),fill:(0,_lib.toRaphaelColor)({color:anchorProps.bgColor,alpha:anchorProps.bgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:anchorProps.borderColor,alpha:anchorProps.borderAlpha}),"stroke-width":anchorProps.borderThickness,visibility:!anchorProps.radius?"hidden":visible};anchorRadius=Math.max(anchorProps.radius,hoverEffects&&hoverEffects.anchorRadius||0,HTP)+anchorProps.borderThickness/2;trackerConfig.trackerRadius=anchorRadius;if(hoverEffects.enabled){setRolloverAttr={path:(0,_lib.polyPathToPath)([hoverEffects.anchorSides||2,xPos,yPos,hoverEffects.anchorRadius,hoverEffects.startAngle,hoverEffects.dip]),fill:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorColor,alpha:hoverEffects.anchorBgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorBorderColor,alpha:hoverEffects.anchorBorderAlpha}),"stroke-width":hoverEffects.anchorBorderThickness};setRolloutAttr={path:(0,_lib.polyPathToPath)([anchorProps.sides,xPos,yPos,anchorProps.radius,anchorProps.startAngle,0]),fill:(0,_lib.toRaphaelColor)({color:anchorProps.bgColor,alpha:anchorProps.bgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:anchorProps.borderColor,alpha:anchorProps.borderAlpha}),"stroke-width":anchorProps.borderThickness};hoverEffects.attrs={hoverEnabled:hoverEffects.enabled,anchorRadius:anchorProps.radius,anchorHoverRadius:hoverEffects.anchorRadius};hoverEffects.attrs[SETROLLOVERATTR]=setRolloverAttr;hoverEffects.attrs[SETROLLOUTATTR]=setRolloutAttr;anchorProps.isAnchorHoverRadius=hoverEffects.attrs.anchorRadius}}point.props={element:{attr:attr}}};_proto.parseLabelAttributes=function parseLabelAttributes(dataObj,index){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,style=chart.config.dataLabelStyle,displayValue=_lib.BLANKSTRING,rotateValues=chartConfig.rotatevalues?270:0,canvasTop=chartConfig.canvasTop,canvasHeight=chartConfig.canvasHeight,canvasBottom=canvasTop+canvasHeight,valuePadding,bBoxObj,graphic,textHeight,origTextHeight,textY,textX,yAdjust,nextPoint={},prevPoint={},config,decidingDimention,xPos,yPos,value,anchorRadius,i=index,plotLabelStyle,len=dataSet.components.data.length,setValue,attr;config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||config.labelSkip===true){config&&delete config.labelSkip;return}if(index>0){prevPoint={x:dataSet.components.data[i-1]._xPos,y:dataSet.components.data[i-1]._yPos}}if(index<len-1){nextPoint={x:dataSet.components.data[i+1]._xPos,y:dataSet.components.data[i+1]._yPos}}graphic=dataObj.graphics;yPos=dataObj._yPos||dataObj.config._Py;xPos=dataObj._xPos||dataObj.config._Px;anchorRadius=graphic.element?graphic.image&&graphic.element.attr("height")*.5||config.anchorProps.radius-3:0;valuePadding=config.valuePadding+GUTTER_2+anchorRadius;displayValue=config.displayValue;if(defined(displayValue)&&displayValue!==""&&value!==null&&config.showValue){plotLabelStyle=config.dataLabelStyle;attr={text:displayValue,fill:plotLabelStyle.color,"text-bound":[plotLabelStyle.backgroundColor,plotLabelStyle.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};bBoxObj=dataSet.getFromEnv("smartLabel").getOriSize(displayValue);if(rotateValues){config._state={labelWidth:bBoxObj.height,labelHeight:bBoxObj.width};config._rotated=true}else{config._state={labelWidth:bBoxObj.width,labelHeight:bBoxObj.height};config._rotated=false}textHeight=origTextHeight=rotateValues?bBoxObj.width:bBoxObj.height;textHeight+=valuePadding;yAdjust=origTextHeight*.5+valuePadding;textY=yPos;textX=xPos;textHeight=textHeight+GUTTER_4;decidingDimention=Number(rotateValues)>=1?bBoxObj.height:bBoxObj.width;config._valueBelowPoint=0;if(nextPoint.y>textY){if(prevPoint.y<textY){textX-=valuePadding+3+decidingDimention*.5}else{if(yPos-textHeight<canvasTop){textX-=valuePadding+3+decidingDimention*.5;textY=canvasTop+textHeight/2}else{textY-=yAdjust}}}else{if(prevPoint.y>textY){textX-=valuePadding+3+decidingDimention*.5}else{if(yPos+textHeight>canvasBottom){textX-=valuePadding+3+decidingDimention*.5;textY=canvasBottom-textHeight/2}else{textY+=yAdjust+GUTTER_2;config._valueBelowPoint=1}}}attr.x=textX;attr.y=textY}config.props=config.props||{};config.props.label={attr:attr}};_proto.allocatePosition=function allocatePosition(){var i,dataSet=this,conf=dataSet.config,setDataArr=dataSet.components.data,dataSetLen=setDataArr&&setDataArr.length,xAxis=dataSet.getFromEnv("xAxis"),setValue,dataStore=dataSet.components.data,dataObj,xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(1),pointDistance=xAxisFirstPos-xAxisZeroPos,thickness={true:conf.rallyThickness,false:conf.declineThickness},rallyPath,declinePath,xValue=0,plotX=xAxis.getPixel(xValue),isRally=setDataArr[0]&&!!setDataArr[0].isRally,nextPointIsRally,startX=xAxisZeroPos-pointDistance/2,plotY,crispY,nextPoint,path;conf.imagesLoaded=0;if(!setDataArr.length){return}rallyPath=conf.rallyPath=[];declinePath=conf.declinePath=[];dataStore=dataSet.components.data=dataStore||[];if(!setDataArr[0].config.setValue){for(i=1;i<dataSetLen;i+=1){setValue=setDataArr[i].config.setValue;if(setValue){plotY=setDataArr[i].config.plotY;break}}}else{plotY=setDataArr[0].config.plotY}isRally=!!setDataArr[0].config.isRally;crispY=Math.round(plotY)+thickness[isRally]%2/2;if(isRally){rallyPath.push(M,startX,crispY,H,plotX)}else{declinePath.push(M,startX,crispY,H,plotX)}(0,_lib.fcEach)(setDataArr,(function(pointData,ii){var point=pointData;point=point.config;dataObj=dataStore[ii];setValue=dataObj.config.setValue;nextPoint=setDataArr[ii+1]&&setDataArr[ii+1].config||{};if(nextPoint){path=[M,plotX,plotY];isRally=point.isRally;if(point.isShift){plotX+=pointDistance;plotY=point.graphY;path.push(H,plotX);path[2]=Math.round(path[2])+thickness[isRally]%2/2;path=path.toString();if(isRally){rallyPath.push(path)}else{declinePath.push(path)}path=[M,plotX,plotY]}if(nextPoint.isChanged){plotY=nextPoint.ty;path.push(V,plotY);path[1]=Math.round(path[1])+thickness[!!isRally]%2/2;path=path.toString();if(isRally){rallyPath.push(path)}else{declinePath.push(path)}path=[M,plotX,plotY]}nextPointIsRally=nextPoint.isRally;if(nextPoint.graphY!==path[2]&&nextPoint.graphY!==UNDEF){path.push(V,nextPoint.graphY);path[1]=Math.round(path[1])+thickness[!!nextPointIsRally]%2/2;path=path.toString();if(nextPointIsRally){rallyPath.push(path)}else{declinePath.push(path)}}nextPoint.graphY&&(plotY=nextPoint.graphY)}dataSet.parsePlotAttributes(dataObj,ii)}));for(i=0;i<setDataArr.length;i++){dataSet.parseLabelAttributes(dataStore[i],i)}};_proto.drawPlots=function drawPlots(){var graphics,dataSet=this,datasetGraphics=dataSet.getGraphicalElement(),animationManager=dataSet.getFromEnv("animationManager"),conf=dataSet.config,trackIndex=conf.trackIndex={},setDataArr=dataSet.components.data,yPos,setElement,dataStore=dataSet.components.data,dataObj,hoverEffects,shadow=conf.shadow,anchorProps={},config,rallyThickness=conf.rallyThickness,declineThickness=conf.declineThickness,rallyAttr={stroke:(0,_lib.toRaphaelColor)({color:conf.rallyColor,alpha:conf.rallyAlpha}),"stroke-linecap":ROUND,"stroke-linejoin":ROUND,"stroke-width":rallyThickness,"stroke-dasharray":conf.rallyDashed},declineAttr={stroke:(0,_lib.toRaphaelColor)({color:conf.declineColor,alpha:conf.declineAlpha}),"stroke-linecap":ROUND,"stroke-linejoin":ROUND,"stroke-width":declineThickness,"stroke-dasharray":conf.declineDashed},rallyElemDummy=datasetGraphics.rallyElem,rallyElem,declineElemDummy=datasetGraphics.declineElem,declineElem,attr,commonElemGroup=dataSet.getContainer("commonElemsGroup"),plotGroup=dataSet.getContainer("plotGroup"),shadowGroup=dataSet.getContainer("shadowGroup"),imageElement;if(!setDataArr.length){rallyElem&&rallyElem.hide();declineElem&&declineElem.hide();return}rallyElem&&rallyElem.show();declineElem&&declineElem.show();(0,_lib.fcEach)(setDataArr,(function(pointData,i){var point=pointData;point=point.config;dataObj=dataStore[i];config=dataObj.config;graphics=dataObj.graphics;imageElement=graphics.image;hoverEffects=config.hoverEffects;yPos=dataObj._yPos;if(!trackIndex[point.plotX]){trackIndex[point.plotX]=[]}trackIndex[point.plotX].push(i);dataObj._index=point.plotX;anchorProps=config.anchorProps;if(yPos!==UNDEF&&!isNaN(yPos)&&point.isDefined){if(anchorProps.imageUrl){dataSet.drawAnchorImage(dataObj)}else{imageElement&&imageElement.hide();setElement=graphics.element;attr=point.props.element.attr;setElement=graphics.element=animationManager.setAnimation({el:setElement||"path",attr:attr,container:plotGroup,component:dataSet,label:"anchor"});setElement.show().shadow(anchorProps.shadow,shadowGroup).data("anchorRadius",anchorProps.radius).data("anchorHoverRadius",hoverEffects.anchorRadius).data("hoverEnabled",hoverEffects.enabled).data(EVENTARGS,point.eventArgs)}if(hoverEffects.enabled){setElement&&setElement.data("anchorRadius",anchorProps.radius).data("anchorHoverRadius",hoverEffects.anchorRadius).data("hoverEnabled",hoverEffects.enabled).data(SETROLLOVERATTR,hoverEffects.attrs[SETROLLOVERATTR]).data(SETROLLOUTATTR,hoverEffects.attrs[SETROLLOUTATTR]).data(EVENTARGS,point.eventArgs)}}else{graphics.element&&graphics.element.hide();imageElement&&imageElement.hide()}}));rallyAttr.path=conf.rallyPath;rallyElem=animationManager.setAnimation({el:rallyElemDummy||"path",attr:rallyAttr,container:commonElemGroup,component:dataSet,label:"line"});rallyElem.shadow(rallyThickness&&shadow,shadowGroup);if(!rallyElemDummy){dataSet.addGraphicalElement("rallyElem",rallyElem)}declineAttr.path=conf.declinePath;declineElem=animationManager.setAnimation({el:declineElemDummy||"path",attr:declineAttr,container:commonElemGroup,component:dataSet,label:"line"});declineElem.shadow(declineThickness&&shadow,shadowGroup);if(!declineElemDummy){dataSet.addGraphicalElement("declineElem",declineElem)}};return KagiDataset}(_line.default);var _default=KagiDataset;exports.default=_default;