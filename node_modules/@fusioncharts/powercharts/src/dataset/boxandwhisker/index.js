"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));var _column=_interopRequireDefault(require("@fusioncharts/charts/src/dataset/column"));var _boxandwhiskerline=_interopRequireDefault(require("./boxandwhiskerline"));var _lib=require("@fusioncharts/core/src/lib");var _dependencyManager=require("@fusioncharts/core/src/dependency-manager");var _index=_interopRequireDefault(require("./index.animation"));var PLOTBORDERCOLOR="plotBorderColor",PLOTGRADIENTCOLOR="plotGradientColor",SHOWSHADOW="showShadow",SETROLLOVERATTR="setRolloverAttr",SETROLLOUTATTR="setRolloutAttr",UNDEFINED,colorStrings=_lib.preDefStr.colors,COLOR_000000=colorStrings.c000000,strokeColor=COLOR_000000,LABEL=_lib.preDefStr.LABEL,ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",UNDERSCORE=_lib.preDefStr.UNDERSCORE,POINTER=_lib.preDefStr.POINTER,BLANK=_lib.preDefStr.BLANK,ROUND=_lib.preDefStr.ROUND,GROUPID=_lib.preDefStr.GROUPID,POSITION_START=_lib.preDefStr.POSITION_START,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,POSITION_TOP=_lib.preDefStr.POSITION_TOP,showHoverEffectStr=_lib.preDefStr.showHoverEffectStr,EVENTARGS=_lib.preDefStr.EVENTARGS,POSITION_END=_lib.preDefStr.POSITION_END,M="M",H="H",V="V",BOLDSTARTTAG="<b>",BOLDENDTAG="</b>",BREAKSTRING="<br />",MAXIMUM_STR="Maximum",Q3_STR="Q3",MEDIAN_STR="Median",Q1_STR="Q1",MINIMUM_STR="Minimum",pStr=_lib.preDefStr.pStr,sStr=_lib.preDefStr.sStr,NONE="none",createChildIndices=function createChildIndices(index,len){var indices=[],length=len;while(length){indices.unshift(index+Number("."+length));length--}return indices},createGroup=function createGroup(attr,parentContainer,dataset){return dataset.getFromEnv("animationManager").setAnimation({el:"group",attr:attr,container:parentContainer,component:dataset,label:"group"})},_hide=function _hide(){return function(){this.hide()}};(0,_dependencyManager.addDep)({name:"boxandwhisker2dAnimation",type:"animationRule",extension:_index.default});var BoxAndWhiskerDataset=function(_ColumnDataset){(0,_inheritsLoose2.default)(BoxAndWhiskerDataset,_ColumnDataset);function BoxAndWhiskerDataset(){return _ColumnDataset.apply(this,arguments)||this}var _proto=BoxAndWhiskerDataset.prototype;_proto.createContainer=function createContainer(){var dataset=this,parent=dataset.getLinkedParent(),group=dataset.groupName||dataset.dsGroup||dataset.type,parentContainer,parentShadowContainer;!parent.getChildContainer(group+"VcanvasGroup")&&(group="default");parentContainer=parent.getChildContainer(group+"VcanvasGroup");parentShadowContainer=parent.getChildContainer(group+"ShadowVcanvasGroup");!dataset.getContainer("shadowGroup")&&dataset.addContainer("shadowGroup",createGroup({name:"shadow-group"},parentShadowContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("lowerBoxGroup",createGroup({name:"lower-box-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("upperBoxGroup",createGroup({name:"upper-box-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("upperWhiskerGroup",createGroup({name:"upper-whisker-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("lowerWhiskerGroup",createGroup({name:"lower-whisker-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("medianGroup",createGroup({name:"median-group"},parentContainer,dataset));!dataset.getContainer("labelGroup")&&dataset.addContainer("labelGroup",createGroup({name:"label-group",class:"fusioncharts-datalabels"},parent.getChildContainer("vcanvasLabelGroup"),dataset))};_proto.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataset=this,conf=dataset.config,JSONData=dataset.config.JSONData,setDataArr=JSONData.data,setDataLen=setDataArr&&setDataArr.length,chartConfig=dataset.getFromEnv("chartConfig"),xAxis=dataset.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),len=Math.min(catLen,setDataLen),chartAttr=dataset.getFromEnv("chart-attrib"),colorM=dataset.getFromEnv("color-manager"),index=conf.index,plotColor=conf.plotColor=colorM.getPlotColor(index),plotBorderDash=(0,_lib.pluckNumber)(JSONData.dashed,chartAttr.plotborderdashed),tooltipSepChar=(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.tooltipsepchar,": ")),formatedVal,parserConfig,setTooltext,macroIndices,tempPlotfillAngle,toolText,plotDashLen,plotDashGap,plotBorderThickness,isRoundEdges,showHoverEffect,plotfillAngle,plotFillAlpha,plotFillRatio,plotgradientcolor,plotBorderAlpha,plotBorderColor,initailPlotBorderDashStyle,setData,setValue,dataObj,config,label,upperBoxHoverColor,upperBoxHoverAlpha,upperBoxBorderHoverColor,upperBoxBorderHoverAlpha,upperBoxBorderHoverThickness,lowerBoxHoverColor,lowerBoxHoverAlpha,lowerBoxBorderHoverColor,lowerBoxBorderHoverAlpha,lowerBoxBorderHoverThickness,upperQuartileHoverColor,upperQuartileHoverAlpha,upperQuartileHoverThickness,lowerQuartileHoverColor,lowerQuartileHoverAlpha,lowerQuartileHoverThickness,medianHoverColor,medianHoverAlpha,medianHoverThickness,dataStore=dataset.components.data,numberFormatter=dataset.getFromEnv("number-formatter"),toolTipValue,setDisplayValue,parentYAxis,setDataDashed,setDataPlotDashLen,setDataPlotDashGap,i,maxValue=-Infinity,minValue=+Infinity,bwCalc=dataset.getFromEnv("BoxAndWhiskerStatisticalCalc"),quartile,q1,q3,limits,min,max,medianValue,mean,md,sd,qd,upperBoxColor,upperBoxAlpha,lowerBoxColor,lowerBoxAlpha,upperWhiskerAlpha,isMeanValueEnabledInData,isSDValueEnabledInData,isMDValueEnabledInData,isQDValueEnabledInData,isOutliersValueEnabledInData,difference,lowerWhiskerAlpha,upperQuartileRawColor,upperQuartileAlpha,upperBoxBorderRawColor,upperBoxBorderAlpha,lowerBoxBorderRawColor,lowerBoxBorderAlpha,lowerQuartileRawColor,lowerQuartileAlpha,isMDEnabled,isSDEnabled,isQDEnabled,isOutliersEnabled,isMeanEnabled,defaultValue,maxmin;dataset.setState("visible",!!((0,_lib.pluckNumber)(dataset.config.JSONData.visible,!Number(dataset.config.JSONData.initiallyhidden),1)===1));(0,_lib.parseConfiguration)(JSONData,conf,chartConfig,{data:true});conf.defaultPadding={left:.5,right:.5};conf.seriesname=(0,_lib.parseUnsafeString)(JSONData.seriesname);conf.includeInLegend=(0,_lib.pluckNumber)(JSONData.includeinlegend,conf.seriesname?1:0);conf.legendSymbolColor=conf.plotColor;plotDashLen=conf.plotborderdashlen;plotDashGap=conf.plotborderdashgap;plotFillAlpha=conf.plotfillalpha;isRoundEdges=conf.useroundedges;plotFillRatio=conf.ratio;plotBorderThickness=conf.plotborderthickness;conf.rotatevalues&&(conf.rotatevalues=270);conf.plotfillAngle=plotfillAngle=(0,_lib.pluckNumber)(360-chartAttr.plotfillangle,90);conf.plotColor=plotColor=(0,_lib.pluck)(JSONData.color,plotColor);conf.plotRadius=(0,_lib.pluckNumber)(chartAttr.useroundedges,isRoundEdges?1:0);conf.showTextOutline=(0,_lib.pluckNumber)(chartAttr.textoutline,0);conf.plotgradientcolor=plotgradientcolor=(0,_lib.getDefinedColor)(chartAttr.plotgradientcolor,colorM.getColor(PLOTGRADIENTCOLOR));!chartConfig.useplotgradientcolor&&(plotgradientcolor=_lib.BLANKSTRING);conf.plotBorderAlpha=plotBorderAlpha=conf.showplotborder?(0,_lib.pluck)(chartAttr.plotborderalpha,plotFillAlpha,_lib.HUNDREDSTRING):0;conf.plotBorderColor=plotBorderColor=(0,_lib.pluck)(chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));conf.plotBorderDashStyle=initailPlotBorderDashStyle=plotBorderDash?(0,_lib.getDashStyle)(plotDashLen,plotDashGap,plotBorderThickness):NONE;conf.showShadow=isRoundEdges?(0,_lib.pluckNumber)(chartAttr.showshadow,1):(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));conf.showHoverEffect=showHoverEffect=(0,_lib.pluckNumber)(chartAttr.plothovereffect,chartAttr.showhovereffect,UNDEFINED);conf.parentYAxis=parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),pStr)===sStr?1:0;conf.dataSeparator=_lib.COMMASTRING;conf.textDirection=chartAttr.hasrtltext==="1"?"rtl":_lib.BLANKSTRING;conf.showMeanLegend=conf.showSDLegend=conf.showMDLegend=conf.showQDLegend=conf.showOutliersLegend=0;!dataset.components.data&&(dataset.components.data=[]);dataStore=dataset.components.data;conf.upperBoxColor=upperBoxColor=(0,_lib.pluck)(JSONData.upperboxcolor,chartAttr.upperboxcolor,colorM.getPlotColor(index*2));upperBoxAlpha=conf.upperBoxAlpha=(0,_lib.pluck)(JSONData.upperboxalpha,chartAttr.upperboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);conf.lowerBoxColor=lowerBoxColor=(0,_lib.pluck)(JSONData.lowerboxcolor,chartAttr.lowerboxcolor,colorM.getPlotColor(index*2+1));lowerBoxAlpha=conf.lowerBoxAlpha=(0,_lib.pluck)(JSONData.lowerboxalpha,chartAttr.lowerboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);for(i=0;i<len;i++){setData=setDataArr&&setDataArr[i];dataObj=dataStore[i];config=dataObj&&dataObj.config;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}if(!dataObj.config){config=dataStore[i].config={}}if(setData.min&&setData.max&&setData.q1&&setData.q3&&setData.median){quartile={q1:setData.q1,q3:setData.q3};q1=quartile.q1;q3=quartile.q3;limits={min:setData.min,max:setData.max};config.min=min=limits.min;config.max=max=limits.max;medianValue=setData.median;config.mean=mean=setData.mean;config.md=md=setData.md;config.sd=sd=setData.sd;config.qd=qd=setData.qd;config.outliers=setData.outliers;config.explicitData=true}else if(setData.value){config.outliers=setData.outliers;config.rawValue=setData.value;bwCalc.setArray(setData.value);quartile=bwCalc.getQuartiles();q1=quartile.q1;q3=quartile.q3;limits=bwCalc.getMinMax();config.min=min=limits.min;config.max=max=limits.max;medianValue=bwCalc.getMedian();config.mean=mean=bwCalc.getMean();config.md=md=bwCalc.getMD();config.sd=sd=bwCalc.getSD();config.qd=qd=bwCalc.getQD();config.explicitData=false}else{config.setValue=UNDEFINED;config.explicitData=false;continue}upperQuartileRawColor=(0,_lib.pluck)(setData.upperquartilecolor,JSONData.upperquartilecolor,chartAttr.upperquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));upperQuartileAlpha=(0,_lib.pluckNumber)(setData.upperquartilealpha,JSONData.upperquartilealpha,chartAttr.upperquartilealpha,chartAttr.plotborderalpha,100);config.upperQuartile={value:q3,color:(0,_lib.convertColor)(upperQuartileRawColor,upperQuartileAlpha),rawColor:upperQuartileRawColor,alpha:upperQuartileAlpha,borderWidth:(0,_lib.pluckNumber)(setData.upperquartilethickness,JSONData.upperquartilethickness,chartAttr.upperquartilethickness,chartAttr.plotborderthickness,!isRoundEdges?1:0),displayValue:numberFormatter.dataLabels(q3)};lowerQuartileRawColor=(0,_lib.pluck)(setData.lowerquartilecolor,JSONData.lowerquartilecolor,chartAttr.lowerquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));lowerQuartileAlpha=(setData.lowerquartilealpha,JSONData.lowerquartilealpha,chartAttr.lowerquartilealpha,chartAttr.plotborderalpha,100);config.lowerQuartile={value:q1,color:(0,_lib.convertColor)(lowerQuartileRawColor,lowerQuartileAlpha),rawColor:lowerQuartileRawColor,alpha:lowerQuartileAlpha,borderWidth:(0,_lib.pluckNumber)(setData.lowerquartilethickness,JSONData.lowerquartilethickness,chartAttr.lowerquartilethickness,chartAttr.plotborderthickness,!isRoundEdges?1:0),displayValue:numberFormatter.dataLabels(q1)};config.valuePadding=(0,_lib.pluckNumber)(setData.valuepadding,conf.valuepadding);upperBoxBorderRawColor=(0,_lib.pluck)(setData.upperboxbordercolor,JSONData.upperboxbordercolor,chartAttr.upperboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));upperBoxBorderAlpha=(0,_lib.pluckNumber)(setData.upperboxborderalpha,JSONData.upperboxborderalpha,chartAttr.upperboxborderalpha,chartAttr.plotborderalpha,100);config.upperBoxBorder={color:(0,_lib.convertColor)(upperBoxBorderRawColor,upperBoxBorderAlpha),rawColor:upperBoxBorderRawColor,alpha:upperBoxBorderAlpha,borderWidth:(0,_lib.pluckNumber)(setData.upperboxborderthickness,JSONData.upperboxborderthickness,chartAttr.upperboxborderthickness,!isRoundEdges&&chartAttr.plotborderthickness,!isRoundEdges?1:0)};lowerBoxBorderRawColor=(0,_lib.pluck)(setData.lowerboxbordercolor,JSONData.lowerboxbordercolor,chartAttr.lowerboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));lowerBoxBorderAlpha=(0,_lib.pluckNumber)(setData.lowerboxborderalpha,JSONData.lowerboxborderalpha,chartAttr.lowerboxborderalpha,chartAttr.plotborderalpha,100);config.lowerBoxBorder={color:(0,_lib.convertColor)(lowerBoxBorderRawColor,lowerBoxBorderAlpha),rawColor:lowerBoxBorderRawColor,alpha:lowerBoxBorderAlpha,borderWidth:(0,_lib.pluckNumber)(setData.lowerboxborderthickness,JSONData.lowerboxborderthickness,chartAttr.lowerboxborderthickness,!isRoundEdges&&chartAttr.plotborderthickness,!isRoundEdges?1:0)};config.median={value:medianValue,color:(0,_lib.convertColor)((0,_lib.pluck)(setData.mediancolor,JSONData.mediancolor,chartAttr.mediancolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)),(0,_lib.pluckNumber)(setData.medianalpha,JSONData.medianalpha,chartAttr.medianalpha,chartAttr.plotborderalpha,100)),borderWidth:(0,_lib.pluckNumber)(setData.medianthickness,JSONData.medianthickness,chartAttr.medianthickness,chartAttr.plotborderthickness,1),displayValue:numberFormatter.dataLabels(medianValue)};conf.upperBoxColor=upperBoxColor=(0,_lib.pluck)(setData.upperboxcolor,JSONData.upperboxcolor,chartAttr.upperboxcolor,colorM.getPlotColor(index*2));upperBoxAlpha=conf.upperBoxAlpha=(0,_lib.pluck)(setData.upperboxalpha,JSONData.upperboxalpha,chartAttr.upperboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);conf.lowerBoxColor=lowerBoxColor=(0,_lib.pluck)(setData.lowerboxcolor,JSONData.lowerboxcolor,chartAttr.lowerboxcolor,colorM.getPlotColor(index*2+1));lowerBoxAlpha=conf.lowerBoxAlpha=(0,_lib.pluck)(setData.lowerboxalpha,JSONData.lowerboxalpha,chartAttr.lowerboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);config.upperBoxColor=upperBoxColor;config.upperBoxAlpha=upperBoxAlpha;config.upperColorArr=(0,_lib.getColumnColor)(upperBoxColor,upperBoxAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.lowerBoxColor=lowerBoxColor;config.lowerBoxAlpha=lowerBoxAlpha;config.lowerColorArr=(0,_lib.getColumnColor)(lowerBoxColor,lowerBoxAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);isMeanEnabled=(0,_lib.pluckNumber)(setData.showmean,JSONData.showmean,chartAttr.showmean);isMeanValueEnabledInData=isMeanEnabled&&(0,_lib.pluckNumber)(setData.showmeanvalue,JSONData.showmeanvalues,chartAttr.showmeanvalues);isMDEnabled=(0,_lib.pluckNumber)(setData.showmd,JSONData.showmd,chartAttr.showmd);isMDValueEnabledInData=isMDEnabled&&(0,_lib.pluckNumber)(setData.showmdvalue,JSONData.showmdvalues,chartAttr.showmdvalues);isSDEnabled=(0,_lib.pluckNumber)(setData.showsd,JSONData.showsd,chartAttr.showsd);isSDValueEnabledInData=isSDEnabled&&(0,_lib.pluckNumber)(setData.showsdvalue,JSONData.showsdvalues,chartAttr.showsdvalues);isQDEnabled=(0,_lib.pluckNumber)(setData.showqd,JSONData.showqd,chartAttr.showqd);isQDValueEnabledInData=isQDEnabled&&(0,_lib.pluckNumber)(setData.showqdvalue,JSONData.showqdvalues,chartAttr.showqdvalues);isOutliersEnabled=(0,_lib.pluckNumber)(setData.showoutlier,JSONData.showoutlier,chartAttr.showoutlier);isOutliersValueEnabledInData=isOutliersEnabled&&(0,_lib.pluckNumber)(setData.showoutliervalue,JSONData.showoutliervalues,chartAttr.showoutliervalues);defaultValue=isMeanValueEnabledInData||isMDValueEnabledInData||isSDValueEnabledInData||isQDValueEnabledInData||isOutliersValueEnabledInData?0:1;config.showMinValues=(0,_lib.pluckNumber)(setData.showminvalue,setData.showvalue,JSONData.showminvalues,JSONData.showvalues,chartAttr.showminvalues,chartAttr.showvalues,defaultValue);config.showMaxValues=(0,_lib.pluckNumber)(setData.showmaxvalue,setData.showvalue,JSONData.showmaxvalues,JSONData.showvalues,chartAttr.showmaxvalues,chartAttr.showvalues,defaultValue);config.showMedianValues=(0,_lib.pluckNumber)(setData.showmedianvalue,setData.showvalue,JSONData.showmedianvalues,JSONData.showvalues,chartAttr.showmedianvalues,chartAttr.showvalues,defaultValue);config.showQ3Values=(0,_lib.pluckNumber)(setData.showq3value,JSONData.showq3values,chartAttr.showq3values,0);config.showQ1Values=(0,_lib.pluckNumber)(setData.showq1value,JSONData.showq1values,chartAttr.showq1values,0);config.upperWhiskerRawColor=(0,_lib.getFirstColor)((0,_lib.pluck)(setData.upperwhiskercolor,JSONData.upperwhiskercolor,chartAttr.upperwhiskercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)));config.upperWhiskerColor=(0,_lib.convertColor)(config.upperWhiskerRawColor,upperWhiskerAlpha);config.upperWhiskerThickness=(0,_lib.pluckNumber)(setData.upperwhiskerthickness,JSONData.upperwhiskerthickness,chartAttr.upperwhiskerthickness,chartAttr.plotborderthickness,1);config.upperWhiskerShadowOpacity=conf.showShadow?upperWhiskerAlpha/100:0;config.lowerWhiskerAlpha=lowerWhiskerAlpha=(0,_lib.getFirstAlpha)((0,_lib.pluck)(setData.lowerwhiskeralpha,JSONData.lowerwhiskeralpha,chartAttr.lowerwhiskeralpha,chartAttr.plotborderalpha,100));config.lowerWhiskerRawColor=(0,_lib.getFirstColor)((0,_lib.pluck)(setData.lowerwhiskercolor,JSONData.lowerwhiskercolor,chartAttr.lowerwhiskercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)));config.lowerWhiskerColor=(0,_lib.convertColor)(config.lowerWhiskerRawColor,lowerWhiskerAlpha);config.lowerWhiskerThickness=(0,_lib.pluckNumber)(setData.lowerwhiskerthickness,JSONData.lowerwhiskerthickness,chartAttr.lowerwhiskerthickness,chartAttr.plotborderthickness,1);config.lowerWhiskerShadowOpacity=conf.showShadow?lowerWhiskerAlpha/100:0;config.setValue=setValue=numberFormatter.getCleanValue(setData.value);config.setLink=(0,_lib.pluck)(setData.link);config.toolTipValue=toolTipValue=numberFormatter.dataLabels(setValue,parentYAxis);config.setDisplayValue=setDisplayValue=(0,_lib.parseUnsafeString)(setData.displayvalue);config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);setDataDashed=(0,_lib.pluckNumber)(setData.dashed);setDataPlotDashLen=(0,_lib.pluckNumber)(setData.dashlen,plotDashLen);setDataPlotDashGap=plotDashGap=(0,_lib.pluckNumber)(setData.dashgap,plotDashGap);maxValue=Math.max(maxValue,max);minValue=Math.min(minValue,min);config.dataLabelStyle=dataset._configureDataLabelStyle(setData);config.plotBorderDashStyle=setDataDashed===1?(0,_lib.getDashStyle)(setDataPlotDashLen,setDataPlotDashGap,plotBorderThickness):setDataDashed===0?NONE:initailPlotBorderDashStyle;plotColor=(0,_lib.pluck)(setData.color,conf.plotColor);plotFillAlpha=(0,_lib.pluck)(setData.alpha,conf.plotfillalpha);if(setValue<0&&!isRoundEdges){tempPlotfillAngle=plotfillAngle;plotfillAngle=360-plotfillAngle}config.colorArr=(0,_lib.getColumnColor)(plotColor+_lib.COMMA+plotgradientcolor,plotFillAlpha,plotFillRatio,plotfillAngle,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.label=label=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(xAxis.getLabel((0,_lib.pluckNumber)(i)).label));if(showHoverEffect!==0){upperBoxHoverColor=(0,_lib.pluck)(setData.upperboxhovercolor,JSONData.upperboxhovercolor,chartAttr.upperboxhovercolor,upperBoxColor);upperBoxHoverAlpha=(0,_lib.pluck)(setData.upperboxhoveralpha,JSONData.upperboxhoveralpha,chartAttr.upperboxhoveralpha,upperBoxAlpha);upperBoxBorderHoverColor=(0,_lib.pluck)(setData.upperboxborderhovercolor,JSONData.upperboxborderhovercolor,chartAttr.upperboxborderhovercolor,setData.upperboxbordercolor,JSONData.upperboxbordercolor,chartAttr.upperboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));upperBoxBorderHoverAlpha=(0,_lib.pluck)(setData.upperboxborderhoveralpha,JSONData.upperboxborderhoveralpha,chartAttr.upperboxborderhoveralpha,setData.upperboxborderalpha,JSONData.upperboxborderalpha,chartAttr.upperboxborderalpha,chartAttr.plotborderalpha,100);upperBoxBorderHoverThickness=!isRoundEdges?(0,_lib.pluck)(setData.upperboxborderhoverthickness,JSONData.upperboxborderhoverthickness,chartAttr.upperboxborderhoverthickness,config.upperBoxBorder.borderWidth):0;lowerBoxHoverColor=(0,_lib.pluck)(setData.lowerboxhovercolor,JSONData.lowerboxhovercolor,chartAttr.lowerboxhovercolor,lowerBoxColor);lowerBoxHoverAlpha=(0,_lib.pluck)(setData.lowerboxhoveralpha,JSONData.lowerboxhoveralpha,chartAttr.lowerboxhoveralpha,lowerBoxAlpha);lowerBoxBorderHoverColor=(0,_lib.pluck)(setData.lowerboxborderhovercolor,JSONData.lowerboxborderhovercolor,chartAttr.lowerboxborderhovercolor,setData.lowerboxbordercolor,JSONData.lowerboxbordercolor,chartAttr.lowerboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));lowerBoxBorderHoverAlpha=(0,_lib.pluck)(setData.lowerboxborderhoveralpha,JSONData.lowerboxborderhoveralpha,chartAttr.lowerboxborderhoveralpha,setData.lowerboxborderalpha,JSONData.lowerboxborderalpha,chartAttr.lowerboxborderalpha,chartAttr.plotborderalpha,100);lowerBoxBorderHoverThickness=!isRoundEdges?(0,_lib.pluck)(setData.lowerboxborderhoverthickness,JSONData.lowerboxborderhoverthickness,chartAttr.lowerboxborderhoverthickness,config.lowerBoxBorder.borderWidth):0;upperQuartileHoverColor=(0,_lib.pluck)(setData.upperquartilehovercolor,JSONData.upperquartilehovercolor,chartAttr.upperquartilehovercolor,setData.upperquartilecolor,JSONData.upperquartilecolor,chartAttr.upperquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));upperQuartileHoverAlpha=(0,_lib.pluck)(setData.upperquartilehoveralpha,JSONData.upperquartilehoveralpha,chartAttr.upperquartilehoveralpha,setData.upperquartilealpha,JSONData.upperquartilealpha,chartAttr.upperquartilealpha,chartAttr.plotborderalpha,100);upperQuartileHoverThickness=(0,_lib.pluck)(setData.upperquartilehoverthickness,JSONData.upperquartilehoverthickness,chartAttr.upperquartilehoverthickness,config.upperQuartile.borderWidth);lowerQuartileHoverColor=(0,_lib.pluck)(setData.lowerquartilehovercolor,JSONData.lowerquartilehovercolor,chartAttr.lowerquartilehovercolor,setData.lowerquartilecolor,JSONData.lowerquartilecolor,chartAttr.lowerquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));lowerQuartileHoverAlpha=(0,_lib.pluck)(setData.lowerquartilehoveralpha,JSONData.lowerquartilehoveralpha,chartAttr.lowerquartilehoveralpha,setData.lowerquartilealpha,JSONData.lowerquartilealpha,chartAttr.lowerquartilealpha,chartAttr.plotborderalpha,100);lowerQuartileHoverThickness=(0,_lib.pluck)(setData.lowerquartilehoverthickness,JSONData.lowerquartilehoverthickness,chartAttr.lowerquartilehoverthickness,config.lowerQuartile.borderWidth);medianHoverColor=(0,_lib.pluck)(setData.medianhovercolor,JSONData.medianhovercolor,chartAttr.medianhovercolor,setData.mediancolor,JSONData.mediancolor,chartAttr.mediancolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));medianHoverAlpha=(0,_lib.pluck)(setData.medianhoveralpha,JSONData.medianhoveralpha,chartAttr.medianhoveralpha,setData.medianalpha,JSONData.medianalpha,chartAttr.medianalpha,chartAttr.plotborderalpha,100);medianHoverThickness=(0,_lib.pluck)(setData.medianhoverthickness,JSONData.medianhoverthickness,chartAttr.medianhoverthickness,config.median.borderWidth);if(showHoverEffect===1){upperBoxColor===upperBoxHoverColor&&(upperBoxHoverColor=(0,_lib.getLightColor)(upperBoxHoverColor,70));lowerBoxColor===lowerBoxHoverColor&&(lowerBoxHoverColor=(0,_lib.getLightColor)(lowerBoxHoverColor,70))}config.upperBoxHoverColorArr=(0,_lib.getColumnColor)(upperBoxHoverColor,upperBoxHoverAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.lowerBoxHoverColorArr=(0,_lib.getColumnColor)(lowerBoxHoverColor,lowerBoxHoverAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.setUpperBoxRolloutAttr={fill:(0,_lib.toRaphaelColor)(config.upperColorArr[0])};config.setUpperBoxRolloverAttr={fill:(0,_lib.toRaphaelColor)(config.upperBoxHoverColorArr[0])};config.setLowerBoxRolloutAttr={fill:(0,_lib.toRaphaelColor)(config.lowerColorArr[0])};config.setLowerBoxRolloverAttr={fill:(0,_lib.toRaphaelColor)(config.lowerBoxHoverColorArr[0])};config.setUpperBoxBorderRolloverAttr={stroke:(0,_lib.convertColor)(upperBoxBorderHoverColor,upperBoxBorderHoverAlpha),"stroke-width":upperBoxBorderHoverThickness};config.setUpperBoxBorderRolloutAttr={stroke:config.upperBoxBorder.color,"stroke-width":config.upperBoxBorder.borderWidth};config.setLowerBoxBorderRolloverAttr={stroke:(0,_lib.convertColor)(lowerBoxBorderHoverColor,lowerBoxBorderHoverAlpha),"stroke-width":lowerBoxBorderHoverThickness};config.setLowerBoxBorderRolloutAttr={stroke:config.lowerBoxBorder.color,"stroke-width":config.lowerBoxBorder.borderWidth};config.setUpperQuartileRolloverAttr={stroke:(0,_lib.convertColor)(upperQuartileHoverColor,upperQuartileHoverAlpha),"stroke-width":upperQuartileHoverThickness};config.setUpperQuartileRolloutAttr={stroke:config.upperQuartile.color,"stroke-width":config.upperQuartile.borderWidth};config.setLowerQuartileRolloverAttr={stroke:(0,_lib.convertColor)(lowerQuartileHoverColor,lowerQuartileHoverAlpha),"stroke-width":lowerQuartileHoverThickness};config.setLowerQuartileRolloutAttr={stroke:config.lowerQuartile.color,"stroke-width":config.lowerQuartile.borderWidth};config.setMedianRolloverAttr={stroke:(0,_lib.convertColor)(medianHoverColor,medianHoverAlpha),"stroke-width":medianHoverThickness};config.setMedianRolloutAttr={stroke:config.median.color,"stroke-width":config.median.borderWidth}}formatedVal=config.toolTipValue;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,JSONData.plottooltext,chartAttr.plottooltext),false));if(!conf.showtooltip){toolText=false}else{if(formatedVal===null){toolText=false}else if(setTooltext!==UNDEFINED){macroIndices=[1,2,3,4,5,6,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80];parserConfig={maxValue:max,maxDataValue:numberFormatter.dataLabels(max),minValue:min,minDataValue:numberFormatter.dataLabels(min),Q1:numberFormatter.dataLabels(q1),unformattedQ1:q1,Q3:numberFormatter.dataLabels(q3),unformattedQ3:q3,median:numberFormatter.dataLabels(medianValue),unformattedMedian:medianValue,SD:numberFormatter.dataLabels(sd),unformattedsd:sd,QD:numberFormatter.dataLabels(qd),unformattedQD:qd,MD:numberFormatter.dataLabels(md),unformattedMD:md,mean:numberFormatter.dataLabels(mean),unformattedMean:mean,label:label,yaxisName:chartConfig.yaxisname,xaxisName:chartConfig.xaxisname,formattedValue:formatedVal,value:label};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{toolText=BOLDSTARTTAG+MAXIMUM_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(max)+BREAKSTRING+BOLDSTARTTAG+Q3_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(q3)+BREAKSTRING+BOLDSTARTTAG+MEDIAN_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(medianValue)+BREAKSTRING+BOLDSTARTTAG+Q1_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(q1)+BREAKSTRING+BOLDSTARTTAG+MINIMUM_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(min)}}config.toolText=toolText;config.setTooltext=toolText;tempPlotfillAngle&&(plotfillAngle=tempPlotfillAngle)}if(conf.showalloutliers){maxmin=dataset._getOutLiersLimit();maxValue=Math.max(maxValue,maxmin.max);minValue=Math.min(minValue,maxmin.min)}else{difference=maxValue-minValue;maxValue+=conf.outliersupperrangeratio*difference;minValue-=conf.outlierslowerrangeratio*difference}conf.maxValue=maxValue;conf.minValue=minValue;dataset.setState("dirty",true);dataset._createSubDS();chartConfig.showLegend&&dataset._addLegend()};_proto._createSubDS=function _createSubDS(){var dataset=this,index=dataset.config.index,lineJSON=dataset.getFromEnv("lineJSON")[index],len=lineJSON.length;(0,_lib.datasetFactory)(dataset,_boxandwhiskerline.default,"dataset",len,lineJSON,createChildIndices(index,len));if(!len){dataset.iterateComponents((function(child){if(child.getName()==="line"){child.remove()}}))}};_proto._getOutLiersLimit=function _getOutLiersLimit(){var dataset=this,lineJSON=dataset.getFromEnv("lineJSON")[dataset.config.index],len=lineJSON.length,dataJSON,dataLen,j,data,max=-Infinity,min=+Infinity,i;for(i=0;i<len;i++){dataJSON=lineJSON[i];if(dataJSON.seriesname==="Outliers"){data=dataJSON.data;dataLen=data.length;for(j=0;j<dataLen;j++){max=Math.max(data[j].value,max);min=Math.min(data[j].value,min)}return{max:max,min:min}}}return{max:max,min:min}};_proto.parsePlotAttributes=function parsePlotAttributes(dataObj,index){var dataset=this,conf=dataset.config,i=index,visible=dataset.getState("visible"),chartConfig=dataset.getFromEnv("chartConfig"),xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),xPos,columnWidth,dataStore=dataset.components.data,setLink,setValue,config,upperQuartile,yTop,yTopPos,lowerQuartile,yBottom,yBottomPos,median,yMed,yMedPos,upperBoxH,lowerBoxH,upperBoxBorder,lowerBoxBorder,crispX,crispX2,crispY,style=chartConfig.dataLabelStyle,hoverOutEffects,rotateValues=conf.rotatevalues,valuePadding,numberFormatter=dataset.getFromEnv("number-formatter"),textAlign=rotateValues?_lib.POSITION_LEFT:_lib.POSITION_MIDDLE,smartLabel=dataset.getFromEnv("smartLabel"),errorStartPos,errorBarWidth,halfErrorBarW,errorValPos,crispyX,crispyY,errorPath,smartText,lineHeight,labelBottomY,labelTopY,lastDataSetHeight=+Infinity,plotDataLabelStyle,lastDataSetYpos,lowerBoxBorderEleAttr,lowerBoxElemAttr,lowerQuartileEleAttr,lowerWhiskerEleAttr,midLineElemAttr,upperBoxBorderEleAttr,upperBoxElemAttr,upperQuartileEleAttr,upperWhiskerEleAttr,upperQuartileMaxLabelAttr,upperQuartileMinLabelAttr,upperQuartileLabelAttr,lowerQuartileLabelAttr,medianLabelAttr,upperBoxStartPos,lowerBoxYPos,lowerBoxHeight,lowerBoxEndPos;columnWidth=dataset.getFromEnv("columnWidth");config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(!config.explicitData&&(dataObj===UNDEFINED||setValue===UNDEFINED||setValue===null)){return}setLink=config.setLink;if(!dataObj.graphics){dataStore[i].graphics={}}if(!dataObj.graphics.label){dataStore[i].graphics.label=[]}xPos=xAxis.getPixel(i)+dataset.getFromEnv("columnXShift");upperQuartile=config.upperQuartile||{};yTop=upperQuartile&&upperQuartile.value;yTopPos=(yTop||yTop===0)&&yAxis.getPixel(yTop);lowerQuartile=config.lowerQuartile||{};yBottom=lowerQuartile&&lowerQuartile.value;yBottomPos=(yBottom||yBottom===0)&&yAxis.getPixel(yBottom);median=config.median;yMed=median&&median.value;yMedPos=(yMed||yMed===0)&&yAxis.getPixel(yMed);upperBoxH=yMedPos-yTopPos;lowerBoxH=yBottomPos-yMedPos;upperBoxBorder=config.upperBoxBorder||{};lowerBoxBorder=config.lowerBoxBorder||{};valuePadding=config.valuePadding;config.eventArgs={index:i,link:setLink,maximum:config.max,minimum:config.min,median:yMed,q3:upperQuartile.value,q1:lowerQuartile.value,maxDisplayValue:config.showMaxValues?numberFormatter.dataLabels(config.max):_lib.BLANKSTRING,minDisplayValue:config.showMinValues?numberFormatter.dataLabels(config.min):_lib.BLANKSTRING,medianDisplayValue:config.showMedianValues?numberFormatter.dataLabels(yMed):_lib.BLANKSTRING,q1DisplayValue:config.showQ1Values?numberFormatter.dataLabels(lowerQuartile.value):_lib.BLANKSTRING,q3DisplayValue:config.showQ3Values?numberFormatter.dataLabels(upperQuartile.value):_lib.BLANKSTRING,categoryLabel:config.label,toolText:config.toolText,datasetIndex:conf.index,datasetName:dataset.config.JSONData.seriesname,visible:visible,value:config.rawValue,showValue:config.showValue,upperBoxColor:config.upperBoxColor,upperBoxAlpha:config.upperBoxAlpha,lowerBoxColor:config.lowerBoxColor,lowerBoxAlpha:config.lowerBoxAlpha,upperQuartileColor:upperQuartile.rawColor,upperQuartileThickness:upperQuartile.borderWidth,upperQuartileAlpha:upperQuartile.alpha,lowerQuartileColor:lowerQuartile.rawColor,lowerQuartileThickness:lowerQuartile.borderWidth,lowerQuartileAlpha:lowerQuartile.alpha,upperBoxBorderColor:upperBoxBorder.rawColor,upperBoxBorderThickness:upperBoxBorder.borderWidth,upperBoxBorderAlpha:upperBoxBorder.alpha,lowerBoxBorderColor:lowerBoxBorder.rawColor,lowerBoxBorderThickness:lowerBoxBorder.borderWidth,lowerBoxBorderAlpha:lowerBoxBorder.alpha,upperWhiskerColor:config.upperWhiskerRawColor,upperWhiskerThickness:config.upperWhiskerThickness,lowerWhiskerThickness:config.lowerWhiskerThickness,lowerWhiskerColor:config.lowerWhiskerRawColor,upperWhiskerAlpha:config.upperWhiskerAlpha,lowerWhiskerAlpha:config.lowerWhiskerAlpha,outliers:config.outliers};crispX=Math.round(xPos)+upperBoxBorder.borderWidth%2*.5;crispX2=Math.round(xPos+columnWidth)+upperBoxBorder.borderWidth%2*.5;crispY=Math.round(yTopPos)+upperQuartile.borderWidth%2*.5;columnWidth=crispX2-crispX;hoverOutEffects={upperBox:{fill:(0,_lib.toRaphaelColor)(config.upperColorArr[0]),"stroke-width":0,"stroke-dasharray":NONE,cursor:setLink?POINTER:_lib.BLANKSTRING,visibility:visible},lowerBox:{fill:(0,_lib.toRaphaelColor)(config.lowerColorArr[0]),"stroke-width":0,"stroke-dasharray":NONE,cursor:setLink?POINTER:BLANK,visibility:visible},upperBoxBorder:{stroke:upperBoxBorder.color,"stroke-width":upperBoxBorder.borderWidth,"stroke-linecap":ROUND,dashstyle:upperBoxBorder.dashStyle,visibility:visible},lowerBoxBorder:{stroke:lowerBoxBorder.color,"stroke-width":lowerBoxBorder.borderWidth,dashstyle:lowerBoxBorder.dashStyle,"stroke-linecap":ROUND,visibility:visible},upperQuartile:{stroke:(0,_lib.toRaphaelColor)(upperQuartile.color),"stroke-width":upperQuartile.borderWidth,"stroke-dasharray":upperQuartile.dashSyle,"stroke-linecap":ROUND,cursor:setLink?POINTER:BLANK,visibility:visible},lowerQuartile:{stroke:(0,_lib.toRaphaelColor)(lowerQuartile.color),"stroke-width":lowerQuartile.borderWidth,"stroke-dasharray":lowerQuartile.dashSyle,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,visibility:visible},median:{stroke:(0,_lib.toRaphaelColor)(median.color),"stroke-width":median.borderWidth,"stroke-dasharray":median.dashSyle,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,visibility:visible}};upperBoxStartPos=lastDataSetYpos||crispY;upperBoxElemAttr=Object.assign({x:crispX,y:lastDataSetYpos||crispY,width:Math.max(columnWidth,0),height:Math.max(Math.min(lastDataSetHeight,upperBoxH),0),r:0},hoverOutEffects.upperBox);upperBoxBorderEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,V,lastDataSetYpos||crispY+upperBoxH,M,crispX2,lastDataSetYpos||crispY,V,lastDataSetYpos||crispY+upperBoxH]},hoverOutEffects.upperBoxBorder);upperQuartileEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,H,crispX+columnWidth]},hoverOutEffects.upperQuartile);errorStartPos=crispY;errorBarWidth=columnWidth*(conf.whiskerslimitswidthratio/100);halfErrorBarW=errorBarWidth/2;errorValPos=yAxis.getPixel(config.max);crispyY=errorValPos;crispyX=crispX;crispyY=Math.round(errorValPos)+config.upperWhiskerThickness%2/2;crispX=Math.round(crispX+columnWidth/2)+config.upperWhiskerThickness%2/2;errorPath=[M,crispX,lastDataSetYpos||errorStartPos,V,Math.min(lastDataSetYpos||crispyY,upperBoxStartPos),M,crispX-halfErrorBarW,Math.min(lastDataSetYpos||crispyY,upperBoxStartPos),H,crispX+halfErrorBarW];upperWhiskerEleAttr={path:errorPath,"stroke-width":config.upperWhiskerThickness,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,stroke:config.upperWhiskerColor,visibility:visible};plotDataLabelStyle=config.dataLabelStyle;smartLabel.useEllipsesOnOverflow(dataset.getFromEnv("chartConfig").useEllipsesWhenOverflow);smartLabel.setStyle(style);smartText=smartLabel.getOriSize(numberFormatter.dataLabels(config.max));lineHeight=rotateValues?smartText.width:smartText.height;labelTopY=errorValPos-config.upperWhiskerThickness*.5-valuePadding-lineHeight*(rotateValues?.5:1);if(labelTopY-(rotateValues?lineHeight/2:0)<chartConfig.canvasTop){labelTopY=chartConfig.canvasTop+(rotateValues?lineHeight/2:0)}upperQuartileMaxLabelAttr={text:numberFormatter.dataLabels(config.max),x:crispyX+columnWidth/2,title:upperQuartile.originalText||_lib.BLANKSTRING,y:lastDataSetYpos||labelTopY,"text-anchor":rotateValues?_lib.POSITION_MIDDLE:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_TOP,visibility:_lib.visibleStr,direction:conf.textDirection,fill:plotDataLabelStyle.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,crispyX+columnWidth/2,labelTopY),"text-bound":[plotDataLabelStyle.backgroundColor,plotDataLabelStyle.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};crispX=Math.round(xPos)+lowerBoxBorder.borderWidth%2*.5;crispX2=Math.round(xPos+columnWidth)+lowerBoxBorder.borderWidth%2*.5;crispY=Math.round(yMedPos+lowerBoxH)+lowerQuartile.borderWidth%2*.5;lowerBoxYPos=lastDataSetYpos||yMedPos;lowerBoxHeight=Math.max(Math.min(lastDataSetHeight,crispY-yMedPos),0);lowerBoxEndPos=lowerBoxYPos+lowerBoxHeight;lowerBoxElemAttr=Object.assign({x:crispX,y:lowerBoxYPos,width:Math.max(columnWidth,0),height:lowerBoxHeight,r:0},hoverOutEffects.lowerBox);lowerBoxBorderEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||yMedPos,V,lastDataSetYpos||yMedPos+lowerBoxH,M,crispX2,lastDataSetYpos||yMedPos,V,lastDataSetYpos||yMedPos+lowerBoxH]},hoverOutEffects.lowerBoxBorder);crispY=Math.round(yMedPos+lowerBoxH)+lowerQuartile.borderWidth%2*.5;lowerQuartileEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,H,crispX+columnWidth]},hoverOutEffects.lowerQuartile);errorStartPos=crispY;errorBarWidth=columnWidth*(conf.whiskerslimitswidthratio/100);halfErrorBarW=errorBarWidth/2;errorValPos=yAxis.getPixel(config.min);crispyY=errorValPos;crispyX=crispX;crispyY=Math.round(errorValPos)+config.lowerWhiskerThickness%2/2;crispyX=Math.round(crispyX+columnWidth/2)+config.lowerWhiskerThickness%2/2;errorPath=[M,crispyX,lastDataSetYpos||errorStartPos,V,Math.max(lastDataSetYpos||crispyY,lowerBoxEndPos),M,crispyX-halfErrorBarW,Math.max(lastDataSetYpos||crispyY,lowerBoxEndPos),H,crispyX+halfErrorBarW];smartLabel.setStyle(style);smartText=smartLabel.getOriSize(numberFormatter.dataLabels(config.min));lineHeight=rotateValues?smartText.width:smartText.height;labelBottomY=errorValPos+config.lowerWhiskerThickness*.5+valuePadding;if(labelBottomY+lineHeight>chartConfig.canvasBottom){labelBottomY=chartConfig.canvasBottom-lineHeight}upperQuartileMinLabelAttr={text:numberFormatter.dataLabels(config.min),x:crispyX,title:upperQuartile.originalText||_lib.BLANKSTRING,y:lastDataSetYpos||labelBottomY,"text-anchor":rotateValues?POSITION_END:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_TOP,visibility:_lib.visibleStr,direction:conf.textDirection,fill:plotDataLabelStyle.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,crispyX,labelBottomY),"text-bound":[plotDataLabelStyle.backgroundColor,plotDataLabelStyle.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};lowerWhiskerEleAttr={path:errorPath,"stroke-width":config.lowerWhiskerThickness,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,stroke:config.lowerWhiskerColor,visibility:visible};crispY=Math.round(yMedPos)+median.borderWidth%2*.5;midLineElemAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,H,crispX+columnWidth]},hoverOutEffects.median);textAlign=rotateValues?_lib.POSITION_LEFT:_lib.POSITION_MIDDLE;upperQuartileLabelAttr={text:upperQuartile.displayValue,x:xPos+columnWidth/2,title:upperQuartile.originalText||_lib.BLANKSTRING,y:yTopPos-valuePadding,"text-anchor":rotateValues?POSITION_START:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_BOTTOM,visibility:_lib.visibleStr,direction:conf.textDirection,fill:plotDataLabelStyle.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,xPos+columnWidth/2,yTopPos-valuePadding),"text-bound":[plotDataLabelStyle.backgroundColor,plotDataLabelStyle.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};medianLabelAttr={text:median.displayValue,x:crispX+columnWidth/2,y:yMedPos-valuePadding,title:median.originalText||_lib.BLANKSTRING,"text-anchor":rotateValues?POSITION_START:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_BOTTOM,visibility:_lib.visibleStr,direction:conf.textDirection,fill:plotDataLabelStyle.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,crispX+columnWidth/2,yMedPos-valuePadding),"text-bound":[plotDataLabelStyle.backgroundColor,plotDataLabelStyle.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};lowerQuartileLabelAttr={text:lowerQuartile.displayValue,x:xPos+columnWidth/2,y:yBottomPos+valuePadding,title:lowerQuartile.originalText||_lib.BLANKSTRING,"text-anchor":rotateValues?POSITION_START:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_TOP,visibility:_lib.visibleStr,direction:conf.textDirection,fill:plotDataLabelStyle.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,xPos+columnWidth/2,yBottomPos+valuePadding),"text-bound":[plotDataLabelStyle.backgroundColor,plotDataLabelStyle.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};config.props={lowerBoxBorderEle:{attr:lowerBoxBorderEleAttr},lowerBoxElem:{attr:lowerBoxElemAttr},lowerQuartileEle:{attr:lowerQuartileEleAttr},lowerWhiskerEle:{attr:lowerWhiskerEleAttr},midLineElem:{attr:midLineElemAttr},upperBoxElem:{attr:upperBoxElemAttr},upperBoxBorderEle:{attr:upperBoxBorderEleAttr},upperQuartileEle:{attr:upperQuartileEleAttr},upperWhiskerEle:{attr:upperWhiskerEleAttr},upperQuartileMaxLabel:{attr:upperQuartileMaxLabelAttr},upperQuartileMinLabel:{attr:upperQuartileMinLabelAttr},medianLabel:{attr:medianLabelAttr},upperQuartileLabel:{attr:upperQuartileLabelAttr},lowerQuartileLabel:{attr:lowerQuartileLabelAttr}}};_proto.allocatePosition=function allocatePosition(){var dataset=this,setDataArr=dataset.config.JSONData.data,datasetLen=setDataArr&&setDataArr.length,catLen=dataset.getFromEnv("xAxis").getTicksLen(),dataStore=dataset.components.data,dataObj,i,len;len=Math.min(catLen,datasetLen);dataset.setColumnPosition();for(i=0;i<len;i++){dataObj=dataStore[i];dataset.parsePlotAttributes(dataObj,i)}};_proto.drawPlots=function drawPlots(){var dataset=this,conf=dataset.config,setDataArr=dataset.config.JSONData.data,datasetLen=setDataArr&&setDataArr.length,len,i,chart=dataset.getFromEnv("chart"),catLen=dataset.getFromEnv("xAxis").getTicksLen(),toolTipController=dataset.getFromEnv("toolTipController"),toolText,dataStore=dataset.components.data,dataObj,setValue,config,showShadow=conf.showShadow,upperBoxContainer=dataset.getContainer("upperBoxGroup").toBack(),lowerBoxContainer=dataset.getContainer("lowerBoxGroup"),medianContainer=dataset.getContainer("medianGroup"),upperWhiskerContainer=dataset.getContainer("upperWhiskerGroup"),lowerWhiskerContainer=dataset.getContainer("lowerWhiskerGroup"),dataLabelContainer=dataset.getContainer("labelGroup"),shadowContainer=dataset.getContainer("shadowGroup"),upperQuartile,applyShadow,lowerQuartile,median,upperBoxElem,upperBoxElemCheck,upperBoxBorderEle,upperBoxBorderEleCheck,upperQuartileEle,upperQuartileEleCheck,lowerBoxElem,lowerBoxElemCheck,lowerBoxBorderEle,lowerBoxBorderEleCheck,lowerQuartileEle,lowerQuartileEleCheck,midLineElem,midLineElemCheck,label,labelCheck,graphic,groupId,upperWhiskerEle,upperWhiskerEleCheck,lowerWhiskerEle,lowerWhiskerEleCheck,ele,graphics,removeDataArr=dataset.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,newupperBoxElem,newlowerBoxElem,newupperBoxBorderEle,newlowerBoxBorderEle,newupperQuartileEle,newlowerQuartileEle,newmidLineElem,newupperWhiskerEle,newlowerWhiskerEle,hoverInAttr,hoverOutAttr,showHoverEffect=conf.showHoverEffect,k,subarr,arrlen,animationManager=dataset.getFromEnv("animationManager"),clickFunc=function clickFunc(ele){return function(e){chart.plotEventHandler(ele,e)}},rolloverResponseSetter=function rolloverResponseSetter(obj,ele){return function(data){var elem;if(ele.data(showHoverEffectStr)!==0){for(elem in obj){if(elem!==LABEL){animationManager.setAnimation({el:obj[elem],doNotRemove:true,attr:ele.data(SETROLLOVERATTR)[elem],component:dataset});chart.plotEventHandler(ele,data,ROLLOVER)}}}}},rolloutResponseSetter=function rolloutResponseSetter(obj,ele){return function(data){var elem;if(ele.data(showHoverEffectStr)!==0){for(elem in obj){if(elem!==LABEL){animationManager.setAnimation({el:obj[elem],doNotRemove:true,attr:ele.data(SETROLLOUTATTR)[elem],component:dataset});chart.plotEventHandler(ele,data,ROLLOUT)}}}}},animCallBack=function animCallBack(){if(dataset.getState("visible")===false&&(dataset._conatinerHidden===false||dataset._conatinerHidden===UNDEFINED)){upperBoxContainer.hide();lowerBoxContainer.hide();upperWhiskerContainer.hide();lowerWhiskerContainer.hide();medianContainer.hide();shadowContainer.hide();dataLabelContainer&&dataLabelContainer.hide();dataset._conatinerHidden=true}};applyShadow=function applyShadow(shadowProps){return function(){this.show();this.shadow(shadowProps)}};dataset.setColumnPosition();if(!dataset.getState("visible")){dataLabelContainer.hide();upperWhiskerContainer.hide();upperBoxContainer.hide();lowerWhiskerContainer.hide();lowerBoxContainer.hide();medianContainer.hide();shadowContainer.hide()}else{upperBoxContainer.show();lowerBoxContainer.show();upperWhiskerContainer.show();lowerWhiskerContainer.show();medianContainer.show();shadowContainer.show();dataLabelContainer.show();dataset._conatinerHidden=false}len=Math.min(catLen,datasetLen);for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config&&config.setValue;newupperBoxElem=false;newlowerBoxElem=false;newupperBoxBorderEle=false;newlowerBoxBorderEle=false;newupperQuartileEle=false;newlowerQuartileEle=false;newmidLineElem=false;newupperWhiskerEle=false;newlowerWhiskerEle=false;if(!config.explicitData&&(dataObj===UNDEFINED||setValue===UNDEFINED||setValue===null)){graphics=dataObj.graphics;for(ele in graphics){if(graphics[ele]instanceof Array){subarr=graphics[ele];for(k=0,arrlen=subarr.length;k<arrlen;k++){subarr[k]&&subarr[k].hide()}}else{graphics[ele].hide()}}continue}graphic=dataObj.graphics;if(!dataObj.graphics){dataStore[i].graphics={}}if(!graphic.label){dataStore[i].graphics.label=[]}upperQuartile=config.upperQuartile||{};lowerQuartile=config.lowerQuartile||{};median=config.median;toolText=config.toolText;groupId=conf.index+UNDERSCORE+i;upperBoxElemCheck=dataObj.graphics.upperBoxElem;upperBoxElem=animationManager.setAnimation({el:upperBoxElemCheck||"rect",attr:config.props.upperBoxElem.attr,label:"upperBox",container:upperBoxContainer,component:dataset});if(!upperBoxElemCheck){dataObj.graphics.upperBoxElem=upperBoxElem;newupperBoxElem=true}upperBoxElem.shadow({opacity:showShadow?conf.upperBoxAlpha/100:0},shadowContainer);upperBoxBorderEleCheck=dataObj.graphics.upperBoxBorderEle;upperBoxBorderEle=animationManager.setAnimation({el:upperBoxBorderEleCheck||"path",attr:config.props.upperBoxBorderEle.attr,container:upperBoxContainer,label:"path",component:dataset});if(!upperBoxBorderEleCheck){dataObj.graphics.upperBoxBorderEle=upperBoxBorderEle;newupperBoxBorderEle=true}upperQuartileEleCheck=dataObj.graphics.upperQuartileEle;upperQuartileEle=animationManager.setAnimation({el:upperQuartileEleCheck||"path",attr:config.props.upperQuartileEle.attr,label:"path",container:upperBoxContainer,component:dataset});if(!upperQuartileEleCheck){dataObj.graphics.upperQuartileEle=upperQuartileEle;newupperQuartileEle=true}upperWhiskerEleCheck=dataObj.graphics.upperWhiskerEle;upperWhiskerEle=animationManager.setAnimation({el:upperWhiskerEleCheck||"path",attr:config.props.upperWhiskerEle.attr,label:"path",container:upperWhiskerContainer,component:dataset});applyShadow({opacity:config.upperWhiskerShadowOpacity},shadowContainer);if(!upperWhiskerEleCheck){dataObj.graphics.upperWhiskerEle=upperWhiskerEle;newupperWhiskerEle=true}dataset.getFromEnv("smartLabel").useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);if(config.showMaxValues){labelCheck=graphic.label[3];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.upperQuartileMaxLabel.attr,component:dataset,label:"text",container:dataLabelContainer});if(!labelCheck){graphic.label[3]=label}graphic.label[3].data(GROUPID,groupId)}else{graphic.label[3]&&animationManager.setAnimation({el:graphic.label[3],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[3])})}lowerBoxElemCheck=dataObj.graphics.lowerBoxElem;lowerBoxElem=animationManager.setAnimation({el:lowerBoxElemCheck||"rect",attr:config.props.lowerBoxElem.attr,label:"lowerBox",container:lowerBoxContainer,component:dataset});if(!lowerBoxElemCheck){dataObj.graphics.lowerBoxElem=lowerBoxElem;newlowerBoxElem=true}lowerBoxElem.shadow({opacity:showShadow?conf.lowerBoxAlpha/100:0},shadowContainer);lowerBoxBorderEleCheck=dataObj.graphics.lowerBoxBorderEle;lowerBoxBorderEle=animationManager.setAnimation({el:lowerBoxBorderEleCheck||"path",attr:config.props.lowerBoxBorderEle.attr,component:dataset,label:"path",container:lowerBoxContainer});if(!lowerBoxBorderEleCheck){dataObj.graphics.lowerBoxBorderEle=lowerBoxBorderEle;newlowerBoxBorderEle=true}lowerQuartileEleCheck=dataObj.graphics.lowerQuartileEle;lowerQuartileEle=animationManager.setAnimation({el:lowerQuartileEleCheck||"path",attr:config.props.lowerQuartileEle.attr,component:dataset,label:"path",container:lowerBoxContainer});if(!lowerQuartileEleCheck){dataObj.graphics.lowerQuartileEle=lowerQuartileEle;newlowerQuartileEle=true}lowerWhiskerEle=dataObj.graphics.lowerWhiskerEle;if(config.showMinValues){labelCheck=graphic.label[4];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.upperQuartileMinLabel.attr,label:"text",container:dataLabelContainer,component:dataset});if(!labelCheck){graphic.label[4]=label}graphic.label[4].data(GROUPID,groupId)}else{graphic.label[4]&&animationManager.setAnimation({el:graphic.label[4],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[4])})}lowerWhiskerEleCheck=dataObj.graphics.lowerWhiskerEle;lowerWhiskerEle=animationManager.setAnimation({el:lowerWhiskerEleCheck||"path",attr:config.props.lowerWhiskerEle.attr,label:"path",container:lowerWhiskerContainer,component:dataset});applyShadow({opacity:config.lowerWhiskerShadowOpacity},shadowContainer);if(!lowerWhiskerEleCheck){dataObj.graphics.lowerWhiskerEle=lowerWhiskerEle;newlowerWhiskerEle=true}midLineElemCheck=dataObj.graphics.midLineElem;midLineElem=animationManager.setAnimation({el:midLineElemCheck||"path",component:dataset,label:"midline",container:medianContainer,attr:config.props.midLineElem.attr});if(!midLineElemCheck){dataObj.graphics.midLineElem=midLineElem;newmidLineElem=true}hoverInAttr={upperBoxElem:config.setUpperBoxRolloverAttr,lowerBoxElem:config.setLowerBoxRolloverAttr,upperBoxBorderEle:config.setUpperBoxBorderRolloverAttr,lowerBoxBorderEle:config.setLowerBoxBorderRolloverAttr,upperQuartileEle:config.setUpperQuartileRolloverAttr,lowerQuartileEle:config.setLowerQuartileRolloverAttr,midLineElem:config.setMedianRolloverAttr};hoverOutAttr={upperBoxElem:config.setUpperBoxRolloutAttr,lowerBoxElem:config.setLowerBoxRolloutAttr,upperBoxBorderEle:config.setUpperBoxBorderRolloutAttr,lowerBoxBorderEle:config.setLowerBoxBorderRolloutAttr,upperQuartileEle:config.setUpperQuartileRolloutAttr,lowerQuartileEle:config.setLowerQuartileRolloutAttr,midLineElem:config.setMedianRolloutAttr};upperBoxElem.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperBoxElem){upperBoxElem.on("fc-click",clickFunc(upperBoxElem));upperBoxElem.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,upperBoxElem));upperBoxElem.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,upperBoxElem))}lowerBoxElem.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerBoxElem){lowerBoxElem.on("fc-click",clickFunc(lowerBoxElem));lowerBoxElem.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,lowerBoxElem));lowerBoxElem.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,lowerBoxElem))}upperBoxBorderEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperBoxBorderEle){upperBoxBorderEle.on("fc-click",clickFunc(upperBoxBorderEle));upperBoxBorderEle.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,upperBoxBorderEle));upperBoxBorderEle.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,upperBoxBorderEle))}lowerBoxBorderEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerBoxBorderEle){lowerBoxBorderEle.on("fc-click",clickFunc(lowerBoxBorderEle));lowerBoxBorderEle.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,lowerBoxBorderEle));lowerBoxBorderEle.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,lowerBoxBorderEle))}upperQuartileEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperQuartileEle){upperQuartileEle.on("fc-click",clickFunc(upperQuartileEle));upperQuartileEle.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,upperQuartileEle));upperQuartileEle.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,upperQuartileEle))}lowerQuartileEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerQuartileEle){lowerQuartileEle.on("fc-click",clickFunc(lowerQuartileEle));lowerQuartileEle.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,lowerQuartileEle));lowerQuartileEle.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,lowerQuartileEle))}midLineElem.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newmidLineElem){midLineElem.on("fc-click",clickFunc(midLineElem));midLineElem.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,midLineElem));midLineElem.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,midLineElem))}upperWhiskerEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperWhiskerEle){upperWhiskerEle.on("fc-click",clickFunc(upperWhiskerEle));upperWhiskerEle.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,upperWhiskerEle));upperWhiskerEle.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,upperWhiskerEle))}lowerWhiskerEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerWhiskerEle){lowerWhiskerEle.on("fc-click",clickFunc(lowerWhiskerEle));lowerWhiskerEle.on("fc-mouseover",rolloverResponseSetter(dataObj.graphics,lowerWhiskerEle));lowerWhiskerEle.on("fc-mouseout",rolloutResponseSetter(dataObj.graphics,lowerWhiskerEle))}if((0,_lib.defined)(upperQuartile.displayValue)&&upperQuartile.displayValue!==BLANK&&config.showQ3Values){labelCheck=graphic.label[0];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.upperQuartileLabel.attr,component:dataset,label:"text",container:dataLabelContainer});if(!labelCheck){graphic.label[0]=label}graphic.label[0].data(GROUPID,groupId)}else{graphic.label[0]&&animationManager.setAnimation({el:graphic.label[0],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[0])})}if((0,_lib.defined)(median.displayValue)&&median.displayValue!==BLANK&&config.showMedianValues){labelCheck=graphic.label[1];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.medianLabel.attr,component:dataset,label:"text",container:dataLabelContainer});label.outlineText(conf.showTextOutline,config.props.medianLabel.attr.fill);if(!labelCheck){graphic.label[1]=label}graphic.label[1].data(GROUPID,groupId)}else{graphic.label[1]&&animationManager.setAnimation({el:graphic.label[1],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[1])})}if((0,_lib.defined)(lowerQuartile.displayValue)&&lowerQuartile.displayValue!==BLANK&&config.showQ1Values){labelCheck=graphic.label[2];label=animationManager.setAnimation({el:labelCheck||"text",component:dataset,attr:config.props.lowerQuartileLabel.attr,container:dataLabelContainer});if(!labelCheck){graphic.label[2]=label;label.show()}graphic.label[2].data(GROUPID,groupId)}else{graphic.label[2]&&animationManager.setAnimation({el:graphic.label[2],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[2])})}if(conf.showtooltip){toolTipController.enableToolTip(upperBoxElem,toolText);toolTipController.enableToolTip(lowerBoxElem,toolText);toolTipController.enableToolTip(upperBoxBorderEle,toolText);toolTipController.enableToolTip(lowerBoxBorderEle,toolText);toolTipController.enableToolTip(upperQuartileEle,toolText);toolTipController.enableToolTip(lowerQuartileEle,toolText);toolTipController.enableToolTip(midLineElem,toolText);toolTipController.enableToolTip(upperWhiskerEle,toolText);toolTipController.enableToolTip(lowerWhiskerEle,toolText)}else{toolTipController.enableToolTip(upperBoxElem,false);toolTipController.enableToolTip(lowerBoxElem,false);toolTipController.enableToolTip(upperBoxBorderEle,false);toolTipController.enableToolTip(lowerBoxBorderEle,false);toolTipController.enableToolTip(upperQuartileEle,false);toolTipController.enableToolTip(lowerQuartileEle,false);toolTipController.enableToolTip(midLineElem,false);toolTipController.enableToolTip(upperWhiskerEle,false);toolTipController.enableToolTip(lowerWhiskerEle,false)}}animCallBack();removeDataArrLen&&dataset.removePlots()};_proto.removePlots=function removePlots(){var dataSet=this,removeDataArr=dataSet.components.removeDataArr,animationManager=dataSet.getFromEnv("animationManager"),len=removeDataArr.length,removeData,ele,graphics,i,innerLen,j;for(i=0;i<len;i++){removeData=removeDataArr[0];removeDataArr.splice(0,1);if(!removeData||!removeData.graphics){continue}graphics=removeData.graphics;for(ele in graphics){if(ele!==LABEL){graphics[ele].shadow({opacity:0});graphics[ele].hide()}else{innerLen=graphics[ele].length;for(j=0;j<innerLen;j++){if(graphics[ele][j]){graphics[ele][j].shadow({opacity:0});animationManager.setAnimation({el:graphics[ele][j],component:dataSet,attr:{"text-bound":[]},callback:_hide.call(graphics[ele][j])})}}}}}};_proto.removeData=function removeData(indexVal,stretchVal,draw){var dataSet=this,index=indexVal,stretch=stretchVal,components=dataSet.components,dataStore=components.data,removeDataArr=components.removeDataArr||(components.removeDataArr=[]);stretch=stretch||1;index=index||0;if(index+stretch===dataStore.length){dataSet.endPosition=true}else if(index===0||index===UNDEFINED){dataSet.endPosition=false}components.removeDataArr=removeDataArr=removeDataArr.concat(dataStore.splice(index,stretch));draw&&dataSet.asyncDraw()};_proto.__setDefaultConfig=function __setDefaultConfig(){_ColumnDataset.prototype.__setDefaultConfig.call(this);var config=this.config;config.showplotborder=UNDEFINED;config.plotborderdashlen=UNDEFINED;config.plotborderdashgap=UNDEFINED;config.plotfillalpha=UNDEFINED;config.useroundedges=UNDEFINED;config.ratio=UNDEFINED;config.plotborderthickness=UNDEFINED;config.showvalues=UNDEFINED;config.valuepadding=UNDEFINED;config.showtooltip=UNDEFINED;config.maxcolwidth=UNDEFINED;config.rotatevalues=UNDEFINED;config.use3dlighting=UNDEFINED;config.whiskerslimitswidthratio=UNDEFINED;config.outliersupperrangeratio=UNDEFINED;config.outlierslowerrangeratio=UNDEFINED;config.showalloutliers=UNDEFINED;config.showmean=UNDEFINED;config.showsd=UNDEFINED;config.showmd=UNDEFINED;config.showqd=UNDEFINED;config.showminvalues=UNDEFINED;config.showmaxvalues=UNDEFINED;config.showq1values=UNDEFINED;config.showq3values=UNDEFINED;config.showmedianvalues=UNDEFINED};_proto.getDataLimits=function getDataLimits(){var dataset=this,conf=dataset.config,removed=dataset.getState("removed");return{max:removed?-Infinity:conf.maxValue,min:removed?+Infinity:conf.minValue}};_proto._addLegend=function _addLegend(){var dataset=this,fillColor,config,conf=dataset.config,legendItem,legend=dataset.getFromEnv("legend"),chartAttr=dataset.getFromEnv("chart-attrib"),JSONData=conf.JSONData||{},upperBoxColor=conf.upperBoxColor,lowerBoxColor=conf.lowerBoxColor;fillColor={FCcolor:{color:upperBoxColor+_lib.COMMA+lowerBoxColor,angle:90,ratio:"50, 0",alpha:"100, 100"}};config={label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname),index:dataset.getJSONIndex(),mainDS:true};if(conf.includeInLegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("fc-click",(function(){legendItem.itemClickFn()}),legendItem)}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(fillColor),bgAlpha:(0,_lib.pluckNumber)(JSONData.legendiconbgalpha,JSONData.legendiconalpha,chartAttr.legendiconbgalpha,chartAttr.legendiconalpha,conf.plotfillalpha),borderAlpha:(0,_lib.pluckNumber)(JSONData.legendiconborderalpha,JSONData.legendiconalpha,chartAttr.legendiconborderalpha,chartAttr.legendiconalpha,conf.plotfillalpha),rawFillColor:conf.upperBoxColor,stroke:(0,_lib.toRaphaelColor)(strokeColor)},background:{legendBackgroundColor:(0,_lib.toRaphaelColor)(upperBoxColor),alpha:20}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}dataset._mapChildren((function(child){if(!child.getState("removed")){child.addToEnv("legendBackgroundColor",upperBoxColor);child&&child._addLegend(true)}}))};_proto.legendInteractivity=function legendInteractivity(){var dataset=this,childDS=dataset.getChildren("dataset"),state,i;state=dataset.getState("visible")?"hide":"show";for(i=0;i<(childDS&&childDS.length);i++){childDS[i][state]()}dataset[state]()};_proto.drawLabel=function drawLabel(){return this};_proto.getName=function getName(){return"boxandwhisker2D"};_proto.childChanged=function childChanged(){return this};_proto.show=function show(){_ColumnDataset.prototype.show.call(this)};_proto.hide=function hide(){_ColumnDataset.prototype.hide.call(this)};return BoxAndWhiskerDataset}(_column.default);var _default=BoxAndWhiskerDataset;exports.default=_default;